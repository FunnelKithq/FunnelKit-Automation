(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1001:function(t,e,r){},1002:function(t,e,r){},1003:function(t,e,r){},884:function(t,e,r){"use strict";var n=r(0),o=r(12),a=r.n(o),i=r(5),c=r(943),u=r(893);r(1001);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new C(n||[]);return o(i,"_invoke",{value:L(t,r,c)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var m="suspendedStart",y="executing",b="completed",d={};function v(){}function g(){}function w(){}var O={};s(O,i,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(A([])));E&&E!==r&&n.call(E,i)&&(O=E);var _=w.prototype=v.prototype=Object.create(O);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,a,i,c){var u=p(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(f).then((function(t){s.value=t,i(s)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,r,n){var o=m;return function(a,i){if(o===y)throw new Error("Generator is already running");if(o===b){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=k(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var l=p(e,r,n);if("normal"===l.type){if(o=n.done?b:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=b,n.method="throw",n.arg=l.arg)}}}function k(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=p(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,d;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(l(e)+" is not iterable")}return g.prototype=w,o(_,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},x(S.prototype),s(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new S(f(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},x(_),s(_,u,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function m(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(){var t=y(Object(n.useState)(!1),2),e=t[0],r=t[1],o=y(Object(n.useState)({}),2),l=o[0],s=o[1],p=Object(n.useCallback)(function(){var t,e=(t=h().mark((function t(e){var n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.signal,r(!0),t.prev=2,t.next=5,a()({method:"GET",path:Object(i.m)("/fields"),signal:n});case 5:(o=t.sent)&&o.result&&s(o.result),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:!n.aborted&&r(!1),e=null;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){m(a,n,o,i,c,"next",t)}function c(t){m(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){var t=new AbortController;return Object(i.mb)()&&p(t),function(){null==t||t.abort()}}),[]);var b={};if(l)for(var d in l){var v=l[d],g=Object(c.b)(v.type),w=v.meta.options,O=v.name;b["bwf_cf".concat(v.ID)]=Object(c.a)(O,"Custom Field","contact_custom_fields",12,g,w)}var j=f(f({},u.a),b);return!!e||j}},890:function(t,e,r){"use strict";r.d(e,"a",(function(){return d})),r.d(e,"c",(function(){return x})),r.d(e,"b",(function(){return Qt}));var n=r(0),o=r(4),a=r(2),i=r(3),c=r(12),u=r.n(c),l=r(5),s=(r(272),r(273),r(50),r(15));function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d=function(t){var e=t.filter,r=t.config,c=Object(s.i)(),f=y(Object(n.useState)({loading:!1,success:!1,error:!1,message:""}),2),p=f[0],m=f[1],b=Object(n.useContext)(l.d),d=y(Object(n.useState)(""),2),v=d[0],g=d[1],w=y(Object(n.useState)(!1),2),O=w[0],j=w[1],E=y(Object(n.useState)(""),2),_=E[0],x=E[1],S=y(Object(n.useState)(!1),2),L=S[0],k=S[1],P=function(){m(h(h({},p),{},{loading:!0}));var t=Object(s.j)(e,c,r.filters);if(Object(i.isEmpty)(t))m({loading:!0,error:!0,message:Object(a.__)("Please fill the filter","wp-marketing-automations")}),setTimeout((function(){m({loading:!1,success:!1,error:!1,message:""})}),2e3);else try{u()({path:Object(l.m)("/audience"),method:"POST",data:{name:v,data:{desc:_,filters:t}}}).then((function(t){200===t.code?(b(t.message),Object(l.fb)(b,2e3),m({loading:!1,success:!1,error:!1,message:""}),k(!1)):(m({loading:!0,error:!0,message:t.message}),b(t.message),setTimeout((function(){m({loading:!1,success:!1,error:!1,message:""})}),2e3))}))}catch(t){m({loading:!0,error:!0,message:t.message}),b(t.message),setTimeout((function(){m({loading:!1,success:!1,error:!1,message:""})}),2e3)}};return Object(n.createElement)("div",{className:"bwf-adv-filter-action-btn"},!Object(i.isEmpty)(e)&&Object(n.createElement)(o.Button,{isTertiary:!0,onClick:function(){g(""),j(!1),x(""),k(!0)}},Object(a.__)("Save as Audience","wp-marketing-automations")),L&&Object(n.createElement)(o.Modal,{title:"Add Audience",onRequestClose:function(){return k(!1)},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-squeezy"},Object(n.createElement)("div",{onKeyPress:function(t){"Enter"===t.key&&(Object(i.isEmpty)(v)?j(!0):P())}},O&&Object(n.createElement)(o.Notice,{status:"error",onRemove:function(){return j("")}},Object(a.__)("Name is required","wp-marketing-automations")),Object(n.createElement)(o.TextControl,{type:"text",value:v,autoFocus:!0,style:{lineHeight:"22px"},placeholder:Object(a.__)("Enter audience name","wp-marketing-automations"),label:Object(a.__)("Name","wp-marketing-automations"),onChange:function(t){g(t),Object(i.isEmpty)(t)?j(!0):j(!1)},disabled:p.loading}),Object(n.createElement)(o.TextareaControl,{placeholder:Object(a.__)("Enter audience description","wp-marketing-automations"),label:Object(a.__)("Description","wp-marketing-automations"),value:_,onChange:function(t){return x(t)},disabled:p.loading}),Object(n.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(n.createElement)(o.Button,{className:"bwf-cancel-btn",onClick:function(){return k(!1)},disabled:p.loading},Object(a.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(o.Button,{isPrimary:!0,disabled:p.loading,isBusy:p.loading,onClick:function(){Object(i.isEmpty)(v)?j(!0):P()}},Object(a.__)("Add","wp-marketing-automations"))))))},v=(r(1002),r(8));function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==g(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===g(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x=function(t){var e=t.addAdvance,r=void 0===e||e,c=t.restrictedFilters,f=void 0===c?[]:c,p=Object(s.i)(),h=E(Object(n.useState)(!1),2),m=h[0],y=h[1],b=E(Object(n.useState)(""),2),d=b[0],g=b[1],w=E(Object(n.useState)([]),2),j=w[0],_=w[1],x=E(Object(n.useState)(!0),2),S=x[0],L=x[1],k=function(){var t=[];return Object(i.isEmpty)(d)?j:(j.map((function(e){-1!==e.name.toLowerCase().indexOf(d.toLowerCase())&&t.push(e)})),t)};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-list-audience-wrap"},Object(n.createElement)(o.Button,{isTertiary:!0,className:"bwf-display-flex bwf-add-audience-btn",onClick:function(){!function(){try{u()({method:"GET",path:Object(l.m)("/audiences?limit=0&offset=0")}).then((function(t){200===t.code&&(_(t.result),L(!1))}))}catch(t){L(!1)}}(),g(""),y(!m)}},"Apply Audiences")),m&&Object(n.createElement)(o.Modal,{onRequestClose:function(){return y(!1)},className:"bwf-admin-modal bwf-admin-modal-large bwf-audience-modal bwf-admin-modal-no-header"},S?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-audience-header bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-audience-label bwf-h4"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"})),Object(n.createElement)("div",{className:"bwf-display-flex gap-20"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-210"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-30"}))),Object(n.createElement)("div",{className:"bwf-audience-table-wrapper"},Object(n.createElement)("table",{className:"bwf-audience-list-table"},Object(n.createElement)("tbody",null,[1,2,3,4,5].map((function(t){return Object(n.createElement)("tr",{key:t},Object(n.createElement)("td",{className:"bwf-display-flex-column bwf-p-15 "},Object(n.createElement)("span",{className:"bwf-audience-title"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"})),Object(n.createElement)("span",{className:"bwf-audience-create-detail"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-10 bwf-w-210"}))),Object(n.createElement)("td",{className:"bwf-w-120"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-90"})))})))))):Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-audience-header"},Object(n.createElement)("div",{className:"bwf-audience-label bwf-h4"},Object(a.__)("My Audiences","wp-marketing-automations")),Object(n.createElement)(o.TextControl,{className:"bwf-audience-search",value:d,onChange:function(t){return g(t)},autoComplete:"off",placeholder:Object(a.__)("Search by title","wp-marketing-automations")}),Object(n.createElement)("div",{className:"bwf-flex bwf-cursor-pointer",onClick:function(){return y(!1)}},Object(n.createElement)(v.a,{icon:"close",size:16}))),Object(n.createElement)("div",{className:"bwf-audience-table-wrapper"},Object(n.createElement)("table",{className:"bwf-audience-list-table"},Object(n.createElement)("tbody",null,k().length>0?k().map((function(t,e){return Object(n.createElement)("tr",{key:e},Object(n.createElement)("td",null,Object(n.createElement)("span",{className:"bwf-audience-title"},t.name),Object(n.createElement)("span",{className:"bwf-audience-create-detail"},t.created_at?Object(n.createElement)(n.Fragment,null,Object(a.__)("Created at ","wp-marketing-automations"),Object(l.N)(t.created_at)):"")),Object(n.createElement)("td",null,Object(n.createElement)("span",{className:"bwf-audience-item-apply",onClick:function(){var e={};r&&(e={filter:"advanced"});var n,o,a=O({},t.data.filters);n=a,o={},Object.keys(n).map((function(t){var e=n[t];Object(i.isString)(e)&&(e=encodeURIComponent(e)),o[t]=e})),a=o,!Object(i.isEmpty)(f)&&Object(i.isArray)(f)&&f.map((function(t){a.hasOwnProperty(t)&&delete a[t]})),Object(s.k)(O(O({},a),e),"/",p),y(!1)}},Object(a.__)("Apply","wp-marketing-automations"))))})):Object(n.createElement)("tr",null,Object(n.createElement)("td",{colSpan:2},Object(n.createElement)("span",{className:"bwf-display-flex bwf-p-15"},Object(a.__)("No Audiences Found","wp-marketing-automations"))))))))))},S=r(268),L=r(7),k=r.n(L),P=r(67),N=r(101),C=r(17),A=r(884),T=r(143);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I=["fetch","setStateProp"];function G(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?G(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===D(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var q=function(){var t=Object(T.a)("audience"),e=t.fetch,r=t.setStateProp;return F(F({},B(t,I)),{},{fetch:function(t,n,o){r("contactCountData",{}),e("GET",Object(l.m)("/audiences?limit=".concat(t,"&offset=").concat(n,"&search=").concat(o)))},setStateAudienceValues:function(t,e){r(t,e)}})},R=r(144);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Y=["getStateProp"];function $(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$(Object(r),!0).forEach((function(e){V(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function V(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==U(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===U(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var J=function(){var t=Object(R.a)("audience"),e=t.getStateProp;return z(z({},H(t,Y)),{},{getAudiences:function(){return e("audience")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getCountData:function(){return e("countData")},getContactCountData:function(){return e("contactCountData")}})},K=r(151),Q=r(142);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(){X=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:x(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="executing",m="completed",y={};function b(){}function d(){}function v(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(N([])));O&&O!==r&&n.call(O,i)&&(g=O);var j=v.prototype=b.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==W(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(W(e)+" is not iterable")}return d.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function et(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==W(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===W(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var nt=function(t){var e=Object(s.i)(),r=t.filter,c=t.config,f=t.audienceDetail,p=t.modalData,h=t.setModal,m=t.setOpen,y=t.reloadList,b=t.title,d=void 0===b?"":b,v=t.desc,g=(t.error,t.setError),w=Object(n.useContext)(l.d),O=function(){var t,n=(t=X().mark((function t(){var n,o;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(!1),""!==d){t.next=4;break}return g(Object(a.__)("Name is required","wp-marketing-automations")),t.abrupt("return");case 4:if(n=Object(s.j)(r,e,c.filters),!Object(i.isEmpty)(n)){t.next=9;break}g(Object(a.__)("Please fill the filter","wp-marketing-automations")),t.next=20;break;case 9:return h({loading:!0}),o=f?Object(l.m)("/audience/".concat(f.ID)):Object(l.m)("/audience"),t.prev=11,t.next=14,u()({path:o,method:"POST",data:{name:d,data:{desc:v||"",filters:n}}}).then((function(t){if(200!==t.code)throw Error(Object(l.j)(null==t?void 0:t.message));w(t.message),Object(l.fb)(w,2e3),y(),h({loading:!1,success:!1,error:!1,message:""}),m(!1)})).catch((function(t){throw Error(Object(l.j)(null==t?void 0:t.message))}));case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(11),g(t.t0.message),h(tt(tt({},p),{},{loading:!1}));case 20:case"end":return t.stop()}}),t,null,[[11,16]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){rt(a,n,o,i,c,"next",t)}function c(t){rt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(n.createElement)(o.Button,{isPrimary:!0,onClick:function(){return O()},disabled:p.loading,isBusy:p.loading},f?Object(a.__)("Save","wp-marketing-automations"):Object(a.__)("Add","wp-marketing-automations"))},ot=(r(1003),r(27)),at=r(33),it=r.n(at),ct=r(124),ut=r.n(ct),lt=r(32),st=r.n(lt),ft=r(14),pt=r.n(ft),ht=r(16);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bt(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dt(){dt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:x(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="executing",m="completed",y={};function b(){}function d(){}function v(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(N([])));O&&O!==r&&n.call(O,i)&&(g=O);var j=v.prototype=b.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==mt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(mt(e)+" is not iterable")}return d.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function vt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var gt={name:"audience",className:"bwf-search-bwf-tags-result",options:function(t){return(e=dt().mark((function t(e){var r,n,o;return dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={search:e,limit:10,offset:0},t.next=3,u()({path:Object(l.m)("/audiences?"+Object(ht.stringify)(r)),method:"GET"});case 3:return n=t.sent,o=st()(n,"result")?n.result:[],it()(o)||(o=o.map((function(t){return{key:String(t.ID),label:t.name}}))),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})),r=function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){vt(a,n,o,i,c,"next",t)}function c(t){vt(a,n,o,i,c,"throw",t)}i(void 0)}))},function(t){return r.apply(this,arguments)})(t);var e,r},isDebounced:!0,getOptionIdentifier:function(t){return t.key},getOptionKeywords:function(t){return[t.label]},getFreeTextOptions:function(t,e){var r,o=yt(e);try{for(o.s();!(r=o.n()).done;){if(r.value.value.label.toLowerCase()===t.toLowerCase())return[]}}catch(t){o.e(t)}finally{o.f()}return[{key:"name",label:Object(n.createElement)("span",{key:"name",className:"bwf-search-result-name"},pt()({mixedString:Object(a.__)("Search all audience with name {{query /}}","wp-marketing-automations"),components:{query:Object(n.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{key:"0",label:t}}]},getOptionLabel:function(t,e){var r=Object(l.i)(t.label,e)||{};return Object(n.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":t.label},Object.keys(r).length>0?Object(n.createElement)(n.Fragment,null,r.suggestionBeforeMatch,Object(n.createElement)("strong",{className:"components-form-token-field__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch):t.label)},getOptionCompletion:function(t){return t}};function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(){Ot=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:x(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="executing",m="completed",y={};function b(){}function d(){}function v(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(N([])));O&&O!==r&&n.call(O,i)&&(g=O);var j=v.prototype=b.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==wt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(wt(e)+" is not iterable")}return d.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function jt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}var Et=function(t){var e=t.query,r=e.hasOwnProperty("s")?e.s:"",o=it()(r)?[]:[{key:r,label:Object(a.__)("Search Audience: ","wp-marketing-automations")+r,bwfLabelSource:"bwfcrm_lists",isSearchTerm:!0}],c=function(){var t,r=(t=Ot().mark((function t(r){var n,o,a,c;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ut()(r)){t.next=2;break}return t.abrupt("return");case 2:if(it()(r)||(n=r[r.length-1],(r=[])[0]=n),o=r.find((function(t){return st()(t,"label")})),!(Object(i.isUndefined)(o)&&r.length>0&&r[0].hasOwnProperty("name"))){t.next=7;break}return Object(s.k)({s:r[0].name},"/manage/audience",e),t.abrupt("return");case 7:if(a=Object(i.isUndefined)(o)?void 0:o.label,c=st()(e,"s")&&!it()(e.s)?e.s:"",a!==c){t.next=11;break}return t.abrupt("return");case 11:Object(s.k)({s:a},"/manage/audiences",e);case 12:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){jt(a,n,o,i,c,"next",t)}function c(t){jt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t){return r.apply(this,arguments)}}();return Object(n.createElement)(ot.a,{autocompleter:Object(l.mb)()?gt:{},multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:o,onChange:c,placeholder:Object(a.__)("Search by name","wp-marketing-automations"),showClearButton:!0,disabled:!1})},_t=r(863),xt=r(146),St=r(141),Lt=r(222),kt=r(125);function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nt(){Nt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:x(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="executing",m="completed",y={};function b(){}function d(){}function v(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(N([])));O&&O!==r&&n.call(O,i)&&(g=O);var j=v.prototype=b.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Pt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Pt(e)+" is not iterable")}return d.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Ct(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function At(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){Ct(a,n,o,i,c,"next",t)}function c(t){Ct(a,n,o,i,c,"throw",t)}i(void 0)}))}}var Tt=function(t){var e=t.isOpen,r=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,s=t.actionType,f=r?r.length:0,p=Object(kt.useMutation)(function(){var t=At(Nt().mark((function t(e){return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u()({path:Object(l.m)("/bulk-action/audience"),method:"DELETE",data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return p.reset()}),2500),o&&o()},onError:function(){i&&i()}}),h=function(){var t=At(Nt().mark((function t(){return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.mutate(r.map((function(t){return t.ID})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Audience","Delete Audiences",f,"wp-marketing-automations"),description:Object(n.createElement)(n.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("audience","audiences",f,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete audience","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(n.createElement)(Q.a,{modalTitle:m.hasOwnProperty(s)&&m[s].hasOwnProperty("title")?m[s].title:Object(a._n)("Perform Actions","Perform Actions",f,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("description")?m[s].description:"",confirmButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmBtn")?m[s].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(s)&&m[s].hasOwnProperty("cancelBtn")?m[s].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:h,isLoading:p.isLoading,successMessage:p.isSuccess&&(m.hasOwnProperty(s)&&m[s].hasOwnProperty("successMsg")?m[s].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:p.isError&&(p.error&&p.error.message?p.error.message:m.hasOwnProperty(s)&&m[s].hasOwnProperty("errorMsg")?m[s].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(s)&&m[s].hasOwnProperty("confirmDescription")?m[s].confirmDescription:"",isDelete:!0})};function Dt(){return(Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function It(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ft=function(t){var e=t.floatingBarProps,r=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,l=t.automationId,s=It(Object(n.useState)([]),2),f=s[0],p=s[1],h=It(Object(n.useState)(!1),2),m=h[0],y=h[1],b=It(Object(n.useState)(""),2),d=b[0],v=b[1],g=function(){o&&o(),p([])};Object(n.useEffect)((function(){g()}),[c]);var w=Object(n.useCallback)((function(t,e){p(e),v(t),y(!0)}),[]);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(Lt.a,Dt({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:w},r)),Object(n.createElement)(Tt,{tasks:f,isOpen:m,onSuccess:function(){i&&i(d,f),g()},onError:g,onRequestClose:function(){return y(!1)},screenType:c,screenTypeId:u,actionType:d,automationId:l}))},Mt=r(102),Bt=r(9),qt=r.n(Bt);function Rt(t){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ut(){Ut=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:x(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="executing",m="completed",y={};function b(){}function d(){}function v(){}var g={};l(g,i,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(N([])));O&&O!==r&&n.call(O,i)&&(g=O);var j=v.prototype=b.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Rt(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function x(e,r,n){var o=p;return function(a,i){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=S(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?m:"suspendedYield",l.arg===y)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function S(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Rt(e)+" is not iterable")}return d.prototype=v,o(j,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function Yt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function $t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(r),!0).forEach((function(e){Vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==Rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Rt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ht(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||Jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(t,e){if(t){if("string"==typeof t)return Kt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kt(t,e):void 0}}function Kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qt=function(){var t=Object(n.useContext)(l.d),e=Object(s.i)(),r=Object(A.a)(),c=Ht(Object(n.useState)(!1),2),f=c[0],p=c[1],h=Ht(Object(n.useState)(!1),2),m=h[0],y=h[1],b=Ht(Object(n.useState)(!1),2),d=b[0],g=b[1],w=Ht(Object(n.useState)(""),2),O=w[0],j=w[1],E=Ht(Object(n.useState)(!1),2),_=E[0],x=E[1],L=Ht(Object(n.useState)(""),2),T=L[0],D=L[1],I=Ht(Object(n.useState)({loading:!1,status:!1}),2),G=I[0],F=I[1],M=Ht(Object(n.useState)({loading:!1,error:!1,success:!1,message:""}),2),B=M[0],R=M[1],U=k()("bwf-audience-lists",{"has-search":!0}),Y=[{ID:"1",name:"Dummy Audience",type:"3",created_at:qt()().format(),data:{filters:[],desc:"This is a dummy audience"},updated_at:qt()().format()}],$=J(),z=$.getAudiences,V=$.getLoading,H=$.getOffset,W=$.getPageNumber,X=$.getPerPageCount,Z=$.getTotalCount,tt=$.getCountData,et=$.getContactCountData,rt=X(),ot=H(),at=e.s,it=Object(l.mb)()?z():Y,ct=W(),ut=!!Object(l.mb)()&&V(),lt=Z(),st=tt(),ft=et(),pt=Ht(Object(n.useState)(!0),2),mt=pt[0],yt=pt[1],bt=Ht(Object(n.useState)({}),2),dt=bt[0],vt=bt[1],gt=q(),wt=gt.fetch,Ot=gt.setStateAudienceValues,jt=Object(n.useRef)(new AbortController);Object(n.useEffect)((function(){vt(ft)}),[ft]),Object(n.useEffect)((function(){return function(){Ot("countData",{}),jt.current.abort()}}),[]),Object(n.useEffect)((function(){Object(l.mb)()?(wt(rt,ot,at||""),y(!1)):y(!0)}),[rt,ot,at]);var kt=Object(n.createElement)(o.Button,{isPrimary:!0,key:"add",className:"bwf-display-flex",onClick:function(){Object(l.mb)()?(p(!0),j(""),g(!1),D("")):yt(!0)}},!Object(l.mb)()&&Object(n.createElement)(v.a,{icon:"lock",size:"15"}),Object(a.__)("Add New Audience","wp-marketing-automations")),Pt=Object(xt.a)().getPageCountData,Nt=Object(St.a)().setPageCountData,Ct=Pt();Object(n.useEffect)((function(){Nt(zt(zt({},Ct),st))}),[st]),Object(_t.a)("manage_audiences","",Object(a.__)("ALL AUDIENCE","wp-marketing-automations"),kt),Object(n.useEffect)((function(){if(!m&&!Object(i.isEmpty)(it)&&!ut&&Object(l.mb)())try{var t={audience_ids:[]};it.map((function(e){t.audience_ids.push(e.ID)})),u()({method:"GET",path:Object(l.m)("/audiences/contacts?"+Object(ht.stringify)(t)),signal:jt.current.signal}).then((function(t){200==t.code&&(Ot("contactCountData",zt(zt({},t.result),ft)),y(!0))})).catch((function(t){console.log(t)}))}catch(t){console.log(t)}}),[it]);var At=Object(n.useMemo)((function(){var t={};if(Array.isArray(it)){var e,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Jt(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(it);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.ID]=n}}catch(t){r.e(t)}finally{r.f()}}return t}),[it]),Tt=Object(l.mb)()?Object(Lt.b)(At):{},Dt=Tt.singleSelectProps,It=Tt.selectAllProps,Gt=Tt.floatingBarProps,Bt=Tt.resetSelection,Rt=[{key:"select_audience",label:Object(l.mb)()?Object(n.createElement)(o.CheckboxControl,It):Object(n.createElement)(n.Fragment,null),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-45"},{key:"name",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"createdon",label:Object(a.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"description",label:Object(a.__)("Description","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-40p"},{key:"contacts",label:Object(a.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-300"}],$t=function(){Object(l.mb)()&&(wt(rt,ot,at||""),y(!1))},Vt=function(){var e,r=(e=Ut().mark((function e(r,n){return Ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(zt(zt({},n),{},{status:!0})),e.prev=1,e.next=4,u()({path:Object(l.m)("/audience/".concat(r)),method:"DELETE"}).then((function(e){if(200!==e.code)throw Error(Object(l.j)(null==e?void 0:e.message));F({status:!1}),t(e.message),wt(rt,ot,at||""),y(!1)})).catch((function(t){throw Error(Object(l.j)(null==t?void 0:t.message))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),F({status:!0,error:e.t0.message?e.t0.message:Object(a.__)("Error in deleting audience","wp-marketing-automations")});case 9:Object(l.fb)(t,2e3);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){Yt(a,n,o,i,c,"next",t)}function c(t){Yt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,e){return r.apply(this,arguments)}}(),Kt=function(t){return m?dt.hasOwnProperty(parseInt(t.ID))&&dt[parseInt(t.ID)].contact_count>0?Object(n.createElement)("div",{className:"bwf-display-flex-column"},Object(n.createElement)("a",{onClick:function(){var e,r;Object(s.k)(zt(zt({},(e=t.data.filters,r={},Object.keys(e).map((function(t){var n=e[t];Object(i.isString)(n)&&(n=encodeURIComponent(n)),r[t]=n})),r)),{},{filter:"advanced",path:"/contacts",page:"autonami"}),"/",{})},className:"bwf-a-no-underline"},parseInt(dt[parseInt(t.ID)].subscribers_count)+" of "+dt[parseInt(t.ID)].contact_count),Object(n.createElement)("span",null,Object(a.__)("Subscribed","wp-marketing-automations"))):"-":Object(n.createElement)("span",{className:"bwf-placeholder-temp bwf-w-150",title:"Loading"},"Loading")},Qt=it.map((function(t){return[{display:Object(l.mb)()&&Dt.hasOwnProperty(t.ID)?Object(n.createElement)(o.CheckboxControl,Dt[t.ID]):Object(n.createElement)(n.Fragment,null),value:null},{display:(c=t,Object(n.createElement)(P.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var r=t.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(N.a,{isClickable:!0,onInvoke:function(){Object(l.mb)()?Object(s.k)(zt(zt({},c.data.filters),{},{filter:"advanced",path:"/contacts"}),"/",e):yt(!0),r()}},Object(n.createElement)(C.a,{justify:"flex-start"},Object(n.createElement)(C.c,null,Object(n.createElement)(v.a,{icon:"view"})),Object(n.createElement)(C.c,null,Object(a.__)("View Contacts","wp-marketing-automations")))),Object(n.createElement)(N.a,{isClickable:!0,onInvoke:function(){Object(l.mb)()?(g(c),j(c.name),D(c.data.desc?c.data.desc:""),p(!0)):yt(!0),r()}},Object(n.createElement)(C.a,{justify:"flex-start"},Object(n.createElement)(C.c,null,Object(n.createElement)(v.a,{icon:"edit"})),Object(n.createElement)(C.c,null,Object(a.__)("Edit","wp-marketing-automations")))),Object(n.createElement)(N.a,{isClickable:!0,onInvoke:function(){if(Object(l.mb)()){var t={status:!0,deleteEntityName:null==c?void 0:c.name,modalTitle:Object(a.__)("Delete Audience"),buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations")};F(zt(zt({},t),{},{onConfirm:function(){return Vt([c.ID],t)}}))}else yt(!0);r()}},Object(n.createElement)(C.a,{justify:"flex-start"},Object(n.createElement)(C.c,null,Object(n.createElement)(v.a,{icon:"trash"})),Object(n.createElement)(C.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:"action"},{display:t.name,value:""},{display:(r=t.created_at,Object(n.createElement)("div",{className:"bwf-display-flex-column"},Object(n.createElement)("span",null,Object(l.N)(r)))),value:""},{display:t.data.hasOwnProperty("desc")&&!Object(i.isEmpty)(t.data.desc)?t.data.desc:"-",value:""},{display:Kt(t),value:""}];var r,c})),Wt=function(t){t!==rt&&Ot("limit",t)};return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(S.a,{className:U,rows:Qt,headers:Rt,query:{paged:ct},rowsPerPage:rt,totalRows:lt,isLoading:ut,onPageChange:function(t,e){Ot("offset",(t-1)*rt)},onQueryChange:function(t){return"per_page"!==t?function(){}:Wt},showMenu:!1,rowHeader:!0,actions:[Object(n.createElement)(Et,{key:"search",query:e})],emptyMessage:Object(a.__)("No audiences found","wp-marketing-automations")}),f&&Object(l.mb)()&&Object(n.createElement)(o.Modal,{onRequestClose:function(){return p(!1)},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-fullscreen bwf-audience-modal-update"},Object(n.createElement)("div",{className:"bwf-modal-header"},Object(n.createElement)("div",{className:"bwf-display-flex gap-20"},Object(n.createElement)("span",{onClick:function(){return p(!1)},className:"bwf-modal-close bwf-cursor-pointer"},Object(n.createElement)(v.a,{icon:"close",color:"#353030"})),Object(n.createElement)("div",{className:"bwf-modal-heading"},d?"Edit Audience":"Add Audience"))),Object(n.createElement)("div",{className:"bwf-audience-modal-content"},Object(n.createElement)("div",{className:"bwf-audience-content-wrap"},Object(n.createElement)("div",{className:"bwf_clear_30"}),_&&Object(n.createElement)(o.Notice,{status:"error",onRemove:function(){return x(!1)}},_),Object(n.createElement)(o.TextControl,{type:"text",value:O,autoFocus:!0,placeholder:Object(a.__)("Enter Name","wp-marketing-automations"),label:Object(a.__)("Name","wp-marketing-automations"),onChange:function(t){j(t),Object(i.isEmpty)(t)?x(Object(a.__)("Name is required","wp-marketing-automations")):x(!1)},disabled:B&&B.loading}),Object(n.createElement)(o.TextareaControl,{placeholder:Object(a.__)("Enter description","wp-marketing-automations"),label:Object(a.__)("Description","wp-marketing-automations"),value:T,onChange:function(t){return D(t)},disabled:B&&B.loading}),Object(n.createElement)("span",null,Object(a.__)("Filters","wp-marketing-automations")),Object(n.createElement)(K.a,{siteLocale:"en-US",currency:Object(l.xb)()?bwfcrm_contacts_data.currency:{},config:{title:Object(a.__)("Select Rules","wp-marketing-automations"),filters:r,enableGrouping:!0,hideAdvanceControl:!0,footerComponent:function(t){return Object(n.createElement)("div",{style:{marginBottom:"-24px"}},Object(n.createElement)(o.Button,{className:"bwf-cancel-btn",onClick:function(){return p(!1)}},Object(a.__)("Cancel","wp-marketing-automations")),Object(n.createElement)(nt,{filter:t.data,config:t.config,audienceDetail:d,setModal:R,modalData:B,setOpen:p,title:O,desc:T,error:_,setError:x,reloadList:$t}))}},disabled:B&&B.loading,path:"/manage/audience",query:d?d.data.filters:{}})))),Object(n.createElement)(Q.a,{deleteEntityName:G.deleteEntityName,confirmButtonText:G.buttonConfirm,cancelButtonText:G.buttonCancel,onConfirm:G.onConfirm,isLoading:G.loading,successMessage:G.success,errorMessage:G.error,onRequestClose:function(){return F({status:!1})},isOpen:G.status,modalTitle:Object(a.__)("Delete Audience"),isDelete:!0}),Object(l.mb)()&&Object(n.createElement)(Ft,{floatingBarProps:Gt,resetSelection:Bt,onSuccess:function(){return wt(rt,ot,at||"")}}),!Object(l.mb)()&&Object(n.createElement)(Mt.a,{isOpen:mt,onRequestClose:function(){return yt(!1)},closeOnClickOut:!1,modalContent:{demoLabel:Object(a.__)("Try Demo","wp-marketing-automations")}}))}}}]);