(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1153:function(e,t,n){},1235:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(2),o=n(4),a=n(3),i=n(78),s=n(25),l=n(276),u=n(138),f=n(5),b=n(8),m=["isSyncable","isConnected","id","connector"];function d(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var O=function(e){var t=e.isSyncable,n=void 0!==t&&t,a=e.isConnected,l=e.id,u=e.connector,O=d(e,m),p=Object(i.b)(),v=O.ispro,j=(void 0===v||v)&&(!Object(f.mb)()||!Object(f.kb)());return Object(r.createElement)("div",{className:"wfco-connector-btns"},Object(r.createElement)("div",{className:"wfco-connector-btns-left"},!j&&!!a&&Object(r.createElement)(o.Button,{isLink:!0,icon:"no-alt",onClick:function(){return p(s.a.showDisconnectModal(u))}},Object(c.__)("Disconnect","wp-marketing-automations"))),Object(r.createElement)("div",{className:"wfco-connector-btns-right"},!!j&&Object(r.createElement)(o.Button,{className:"bwf-display-flex",isPrimary:!0,onClick:function(){return p(s.a.showGetPro(!0))}},Object(r.createElement)(b.a,{icon:"lock",size:15,color:"#ffffff"}),Object(r.createElement)("span",null,Object(c.__)("Locked","wp-marketing-automations"))),!j&&!a&&Object(r.createElement)(o.Button,{isPrimary:!0,onClick:function(){return p(s.a.showSettingsModal(u))}},Object(c.__)("Connect","wp-marketing-automations")),!j&&!!n&&!!parseInt(l)&&!!a&&Object(r.createElement)(o.Button,{isPrimary:!0,onClick:function(){return p(s.a.showSyncModal(u))}},Object(c.__)("Sync","wp-marketing-automations")),!j&&!!a&&Object(r.createElement)(o.Button,{isSecondary:!0,onClick:function(){return p(s.a.showSettingsModal(u))}},Object(c.__)("Settings","wp-marketing-automations"))))},p=["connector","connector_id","name","logo","description","is_connected","is_syncable","meta","new"];function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var h=function(){return Object(r.createElement)("div",{className:"wfco-col-md-4"},Object(r.createElement)("div",{className:"wfco-connector-wrap"},Object(r.createElement)("div",{className:"wfco-connector_card_outer"},Object(r.createElement)("div",{className:"wfco-connector-img-outer"},Object(r.createElement)("div",{className:"wfco-connector-img"},Object(r.createElement)(u.a,{height:90,width:110}))),Object(r.createElement)("div",{className:"wfco_connector_info"},Object(r.createElement)("div",{className:"wfco_connector_info_head"},Object(r.createElement)(u.a,null)),Object(r.createElement)("div",{className:"wfco_connector_info_details"},Object(r.createElement)(u.a,{width:180}),Object(r.createElement)(u.a,{width:160}),Object(r.createElement)(u.a,{width:140})))),Object(r.createElement)("div",{className:"wfco-connector-action"},Object(r.createElement)("div",{className:"wfco-connector-btns"},Object(r.createElement)(u.a,{height:36})))))},g=function(e){var t=e.connector,n=e.connector_id,o=e.name,a=e.logo,i=e.description,s=e.is_connected,l=e.is_syncable,u=(e.meta,e.new),f=void 0===u?0:u,b=j(e,p);return Object(r.createElement)("div",{className:"wfco-col-md-4"},Object(r.createElement)("div",{className:"wfco-connector-wrap"},Object(r.createElement)("div",{className:"wfco-connector_card_outer"},!!a&&Object(r.createElement)("div",{className:"wfco-connector-img-outer"},Object(r.createElement)("div",{className:"wfco-connector-img"},Object(r.createElement)("div",{className:"wfco-connector-img-section"},Object(r.createElement)("img",{src:a})))),Object(r.createElement)("div",{className:"wfco_connector_info"},f?Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(c.__)("New","wp-marketing-automations")):null,!!o&&Object(r.createElement)("div",{className:"wfco_connector_info_head"},o),!!i&&Object(r.createElement)("div",{className:"wfco_connector_info_details"},i))),Object(r.createElement)("div",{className:"wfco-connector-action"},Object(r.createElement)(O,v({isConnected:s,isSyncable:l,connector:t,id:n},b)))))},y=n(102);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=Object(i.b)(),n=Object(i.c)(l.a.shouldShowGetPro),o=!Object(f.kb)()&&Object(f.mb)()?{modalContent:{title:Object(c.__)("Activate Connector Addon","wp-marketing-automations"),content:Object(c.__)("Download the addon from your FunnelKit Account and activate the license to access integrations. ","wp-marketing-automations"),demoLabel:Object(c.__)("Close","wp-marketing-automations"),proLabel:Object(c.__)("Login to FunnelKit","wp-marketing-automations"),proLink:"https://myaccount.funnelkit.com/"}}:{};return Object(r.createElement)(y.a,w({},o,{isOpen:n,onRequestClose:function(){return t(s.a.showGetPro(!1))},showLock:!(!Object(f.kb)()&&Object(f.mb)())}))},E=n(304),k=n(50),C=n(272),S=n(16);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){P=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),i=new L(r||[]);return c(a,"_invoke",{value:k(e,n,i)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",O={};function p(){}function v(){}function j(){}var h={};l(h,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==n&&r.call(y,a)&&(h=y);var w=j.prototype=p.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(c,o,a,i){var s=f(e[c],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==N(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,i)}),(function(e){n("throw",e,a,i)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,i)}))}i(s.arg)}var o;c(this,"_invoke",{value:function(e,r){function c(){return new t((function(t,c){n(e,r,t,c)}))}return o=o?o.then(c,c):c()}})}function k(t,n,r){var c=b;return function(o,a){if(c===m)throw new Error("Generator is already running");if(c===d){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===O)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(c===b)throw c=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);c=m;var l=f(t,n,r);if("normal"===l.type){if(c=r.done?d:"suspendedYield",l.arg===O)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(c=d,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,c=t.iterator[r];if(c===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),O;var o=f(c,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,O;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,O):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,O)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,o=function n(){for(;++c<t.length;)if(r.call(t,c))return n.value=t[c],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(N(t)+" is not iterable")}return v.prototype=j,c(w,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:v,configurable:!0}),v.displayName=l(j,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},_(E.prototype),l(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,c,o){void 0===o&&(o=Promise);var a=new E(u(e,n,r,c),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function c(r,c){return i.type="throw",i.arg=t,n.next=r,c&&(n.method="next",n.arg=e),!!c}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return c("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return c(a.catchLoc,!0);if(this.prev<a.finallyLoc)return c(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return c(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return c(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc<=this.prev&&r.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var o=c;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),O},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),O}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var c=r.arg;x(n)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),O}},t}function x(e,t,n,r,c,o,a){try{var i=e[o](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,c)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,o,a,i=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){l=!0,c=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.settingsModalOpen),n=Object(i.c)(l.a.saveConnectorError),u=Object(i.c)(l.a.saveConnectorStatus),f=!!u&&"idle"===u,b=!!u&&"loading"===u,m=!!u&&"connected"===u,d=Object(i.c)(l.a.getCurrentConnector),O=d.fields_schema,p=void 0===O?[]:O,v=d.fields_values,j=void 0===v?{}:v,h=d.name,g=void 0===h?"":h,y=d.is_connected,w=d.connector,_=d.connector_id,N=d.direct_connect,M=void 0!==N&&N,T=d.meta,A=void 0===T?{}:T,F=A.redirect_url,B=void 0===F?"":F,G=A.connect_type,I=void 0===G?"normal":G,z=A.action,R=void 0===z?"":z,U=A.buttonLabel,K=void 0===U?"":U,q=A.busyLabel,H=void 0===q?"":q,Y=Object(r.useCallback)((function(t){return e(s.a.saveConnector({connector:w,settings:y?D(D({},t),{},{id:_}):t}))}),[s.a,y,_]),J=Object(r.useCallback)((function(){window.location.href=B}),[B]);Object(r.useEffect)((function(){!y&&M&&te(Object(a.isEmpty)(j)||Object(a.isUndefined)(j)?{}:j)}),[M]);var $=L(Object(r.useState)(!1),2),Q=$[0],V=$[1],W=L(Object(r.useState)(!1),2),X=W[0],Z=W[1],ee=function(){var e,t=(e=P().mark((function e(){var t,n,r;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==R){e.next=2;break}return e.abrupt("return");case 2:return t={v:2,action:R},V(!0),e.next=6,fetch(bwfanParams.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},credentials:"same-origin",body:Object(S.stringify)(t)});case 6:return n=e.sent,e.next=9,n.json();case 9:(r=e.sent).hasOwnProperty("msg")&&"string"==typeof r.msg?(Z(!0),setTimeout((function(){V(!1)}),1e3),window.location.href=B+"&n="+(new Date).getTime()):V(!1);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,c){var o=e.apply(t,n);function a(e){x(o,r,c,a,i,"next",e)}function i(e){x(o,r,c,a,i,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),te=function(e){switch(I){case"redirect_url":J();break;case"ajax_redirect_url":ee();break;default:Y(e)}};return Object(r.createElement)(r.Fragment,null,t&&Object(r.createElement)(o.Modal,{className:"bwf-admin-modal bwf-admin-modal-medium bwfan-connector-settings-modal",isDismissible:f,shouldCloseOnClickOutside:!1,shoulfCloseOnEsc:!1,onRequestClose:function(){return!!f&&e(s.a.hideSettingsModal())},title:!!g&&Object(c.__)("Connect with ","wp-amrketing-automations-crm")+g},Object(r.createElement)("div",{className:"bwfan-connector-settings-modal-inner"},!!n&&Object(r.createElement)(o.Notice,{status:"error",isDismissible:!0,onRemove:function(){return e(s.a.clearSaveConnectorError())}},n),!!b&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(k.a,null)),!!m&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(C.a,null),Object(r.createElement)("div",{className:"bwf-h1"},Object(c.__)("Connected / Updated Successfully","wp-marketing-automations"))),!!f&&Object(a.size)(p)>0&&Object(r.createElement)(E.a,{fields:p,values:Object(a.isEmpty)(j)||Object(a.isUndefined)(j)?{}:j,handleSubmit:function(e){return te(e)},submitButtonTitle:function(){if(y&&0===Object(a.size)(j))return"";if("ajax_redirect_url"===I){var e="Connect";return X?e="Redirecting...":Q&&H?e=H:K&&(e=K),e}return y&&"redirect_url"!==I?"Update":"Connect"}(),isLoading:Q,connector:w}),!!f&&0===Object(a.size)(p)&&Object(r.createElement)("p",null,Object(c.__)("No settings available for this connector","wp-marketing-automations")))))},B=n(142),G=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.disconnectModalOpen),n=Object(i.c)(l.a.deleteConnectorError),o=Object(i.c)(l.a.deleteConnectorStatus),a=!!o&&"idle"===o,u=!!o&&"loading"===o,f=!!o&&"success"===o,b=Object(i.c)(l.a.getCurrentConnector).connector;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B.a,{isOpen:t,modalTitle:Object(c.__)("Disconnect Connector","wp-marketing-automations"),deleteDescriptionText:Object(c.__)("You are about to disconnect connector. All the action, tasks, logs of this connector will be deleted. Cancel to stop, Proceed to continue.","wp-marketing-automations"),confirmButtonText:Object(c.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(s.a.deleteConnector(b))},isLoading:u,successMessage:!!f&&Object(c.__)("Disconnected Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!a&&e(s.a.hideDisconnectModal())},isDelete:!0,showSuccessMsg:!0}))},I=function(){var e=Object(i.b)(),t=Object(i.c)(l.a.syncModalOpen),n=Object(i.c)(l.a.syncConnectorError),o=Object(i.c)(l.a.syncConnectorStatus),a=!!o&&"idle"===o,u=!!o&&"loading"===o,f=!!o&&"success"===o,b=Object(i.c)(l.a.getCurrentConnector),m=b.connector,d=b.connector_id;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B.a,{isOpen:t,modalTitle:Object(c.__)("Sync Connector","wp-marketing-automations"),deleteDescriptionText:Object(c.__)("You are about to sync connector. All the data of this connector will be synced. Cancel to stop, Proceed to continue","wp-marketing-automations"),confirmButtonText:Object(c.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(s.a.syncConnector({connector:m,id:d}))},isLoading:u,successMessage:!!f&&Object(c.__)("Synced Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!a&&e(s.a.hideSyncModal())},isDelete:!0,showSuccessMsg:!0}))},z=n(76),R=n(15),U=function(e){var t=e.wfco_connector,n=void 0===t?"":t,c=e.access_token,o=void 0===c?"":c,u=e.bwfco_access_t,f=void 0===u?"":u,b=Object(i.b)(),m="success"===Object(i.c)(l.a.getConnectorsStatus),d=Object(r.useCallback)((function(){b(s.a.showSettingsModal(n)),b(s.a.saveConnector({connector:n,settings:{access_token:Object(a.isEmpty)(o)?f:o}})),Object(R.k)({page:e.page},e.path,{})}),[n,o,b,f]);return Object(r.useEffect)((function(){"bwfco_slack"===n&&(o||f)&&m&&d()}),[n,o,d,m,f]),null},K=function(e){var t=e.bitly,n=void 0===t?"":t,c=e.login,o=void 0===c?"":c,a=e.access_token,u=void 0===a?"":a,f=e.bwfco_access_t,b=void 0===f?"":f,m=Object(i.b)(),d="success"===Object(i.c)(l.a.getConnectorsStatus),O=Object(r.useCallback)((function(){m(s.a.showSettingsModal("bwfco_bitly")),m(s.a.saveConnectorSuccess({connector:"bwfco_bitly",id:"bitly"})),Object(R.k)({page:e.page},e.path,{});var t=setTimeout((function(){m(s.a.hideSettingsModal()),clearInterval(t)}),3e3)}),[m]);return Object(r.useEffect)((function(){"yes"===n&&(u||b)&&o&&O()}),[n,u,o,O,d,b]),null},q=function(e){var t=e.wfco_connector,n=void 0===t?"":t,o=e.status,a=void 0===o?0:o,u=e.error_msg,f=Object(i.b)(),b="success"===Object(i.c)(l.a.getConnectorsStatus);return Object(r.useEffect)((function(){if("bwfco_mautic"===n&&"success"===a&&b){f(s.a.showSettingsModal(n)),f(s.a.dummyConnectorSuccess()),Object(R.k)({page:e.page},e.path,{});var t=setTimeout((function(){f(s.a.hideSettingsModal()),clearInterval(t)}),3e3)}if("bwfco_mautic"===n&&"failed"===a&&b){f(s.a.showSettingsModal(n));var r=u||Object(c.__)("Unknown Error Occurred","wp-marketing-automations");f(s.a.saveConnectorFailed(r))}}),[n,a,b]),null},H=function(e){var t=e.wfco_connector,n=void 0===t?"":t,c=e.code,o=void 0===c?"":c,a=e.state,u=void 0===a?"":a,f=e.client_id,b=void 0===f?"":f,m=e.client_secret,d=void 0===m?"":m,O=e.redirect_url,p=void 0===O?"":O,v=Object(i.b)(),j="success"===Object(i.c)(l.a.getConnectorsStatus),h=Object(i.c)(l.a.getConnector("bwfco_zoom")),g=h&&h.fields_values?h.fields_values:{},y=h&&h.fields_schema?h.fields_schema:{},w=Object(r.useCallback)((function(){v(s.a.showSettingsModal(n)),v(s.a.saveConnector({connector:n,settings:{code:o,state:u,client_id:b,client_secret:d,redirect_url:p}}))}),[n,o,u,v,b,d,p]);return Object(r.useEffect)((function(){if((g.code||g.state)&&g.client_id&&g.client_secret&&g.redirect_url){var t={client_id:g.client_id,client_secret:g.client_secret,redirect_url:g.redirect_url};v(s.a.setConnectorSchema({connector:"bwfco_zoom",schema:y,values:t,saveStatus:"connected"})),Object(R.k)({page:e.page},e.path,{})}}),[g]),Object(r.useEffect)((function(){"bwfco_zoom"===n&&o&&u&&j&&w()}),[n,o,u,w,j]),null},Y=n(141),J=n(146),$=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},o=Object(Y.a)(),a=o.setActiveMultiple,i=o.setL2NavType,s=o.setL2Nav,l=o.resetHeaderMenu,u=o.setPageHeader,m=o.setPageCountData,d=o.setPageHeaderBelowContent,O=Object(J.a)(),p=O.getPageCountData,v=p();return Object(r.useEffect)((function(){v!==t&&(l(),a({leftNav:"connectors",rightNav:e}),i("menu"),s(n.connectors_nav),u("Connectors"),t&&m(t),!Object(f.kb)()&&Object(f.mb)()&&d(Object(r.createElement)("div",{className:"bwf-shield-notice"},Object(r.createElement)("span",{className:"bwf-display-flex"},Object(r.createElement)(b.a,{icon:"shield"})),Object(r.createElement)("p",{className:"bwf-shield-notice-content"},Object(c.__)("FunnelKit Automations Connector Addon is not installed. To access integrations, download the addon from your FunnelKit account and activate the license. ","wp-marketing-automations"),Object(r.createElement)("a",{href:"https://myaccount.funnelkit.com/",className:"bwf-noticebar-btn",target:"_blank",rel:"noreferrer"},Object(c.__)("Login to FunnelKit","wp-marketing-automations"))))))}),[e,t]),!0},Q=(n(1153),function(e){var t=e.connector,n=void 0===t?"":t,c=e.code,o=void 0===c?"":c,a=e.state,u=void 0===a?"":a,f=e.client_id,b=void 0===f?"":f,m=e.client_secret,d=void 0===m?"":m,O=Object(i.b)(),p="success"===Object(i.c)(l.a.getConnectorsStatus),v=Object(i.c)(l.a.getConnector("bwfco_keap")),j=v&&v.fields_values?v.fields_values:{},h=v&&v.fields_schema?v.fields_schema:{},g=Object(r.useCallback)((function(){O(s.a.showSettingsModal("bwfco_keap")),O(s.a.saveConnector({connector:"bwfco_keap",settings:{code:o,state:u,client_id:b,client_secret:d}}))}),[n,o,u,O,b,d]);return Object(r.useEffect)((function(){if((j.code||j.state)&&j.client_id&&j.client_secret){var t={client_id:j.client_id,client_secret:j.client_secret};O(s.a.setConnectorSchema({connector:"bwfco_keap",schema:h,values:t,saveStatus:"connected"})),Object(R.k)({page:e.page},e.path,{})}}),[j]),Object(r.useEffect)((function(){"keap"===n&&o&&u&&p&&g()}),[n,o,u,g,p]),null});function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(){return(W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=Object(r.memo)((function(e){var t=e.size,n=void 0===t?15:t;return Object(r.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(r.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(r.createElement)("div",{className:"wfco-row"},Array.from(Array(n).keys()).map((function(e){return Object(r.createElement)(h,{key:e})})))))})),ne=Object(r.memo)((function(e){var t=e.selected,n=void 0===t?"all":t,u=location&&location.search?Object(S.parse)(location.search.substring(1)):{};U(u),K(u),q(u),Q(u),H(u);var b=Object(Y.a)().setPageHeaderBelowContent,m=Object(i.c)(l.a.settingsModalOpen),d=Object(i.c)(l.a.disconnectModalOpen),O=Object(i.c)(l.a.syncModalOpen),p=Object(i.b)(),v=Object(i.c)(l.a.getConnectorsStatus),j=Object(i.c)(l.a.getConnectorsError),h=Object(i.c)(l.a.getConnectors),y="loading"===v,w=Object(i.c)(l.a.getConnectorsCount);Object(r.useEffect)((function(){return Object(f.g)(Object(c.__)("Connectors","wp-marketing-automations")),p(s.a.getConnectors()),0,function(){return b("")}}),[]);var E={all:Object(c.__)("No connector found","wp-marketing-automations"),active:Object(c.__)("No active connector found","wp-marketing-automations"),inactive:Object(c.__)("No inactive connector found","wp-marketing-automations")};$(Object(c.__)("Connectors","wp-marketing-automations"),n,w),Object(r.useEffect)((function(){if(!Object(a.isEmpty)(h)){var e=[],t={all:0,active:0,inactive:0};Object.keys(h).sort().forEach((function(r){var c=h[r];("all"===n||"inactive"===n&&!c.is_connected||"active"===n&&c.is_connected)&&(e.push(r)),t.all++,c.is_connected?t.active++:t.inactive++})),p(s.a.getCount(t))}}),[h,n]);var k=Object(r.useMemo)((function(){if(!Object(a.isEmpty)(h)){var e=[];return Object.keys(h).map((function(t){var r=h[t];("all"===n||"inactive"===n&&!r.is_connected||"active"===n&&r.is_connected)&&e.push(Z(Z({},r),{},{connector:t}))})),e.sort((function(e,t){return e.priority-t.priority})),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(r.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(r.createElement)("div",{className:"wfco-row"},e.map((function(e,t){return Object(r.createElement)(g,W({key:t},e))})),0===e.length&&Object(r.createElement)("div",{className:"bwf-p"},E[n])))))}}),[h,n]);return Object(r.createElement)("div",{className:"bwfan_global bwfan_global_settings bwfan_connectors"},Object(r.createElement)("div",{className:"bwfan_global_settings_wrap"},!!j&&Object(r.createElement)(o.Notice,{status:"error"},j),!!y&&Object(r.createElement)(te,null),!y&&!!h&&k,m&&Object(r.createElement)(F,null),d&&Object(r.createElement)(G,null),O&&Object(r.createElement)(I,null),Object(r.createElement)(_,null)))}));t.default=ne}}]);