(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1157:function(t,e,n){},1234:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(76),a=n(2),i=n(268),c=n(144),u=n(104);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=["getStateProp"];function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==l(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===l(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var b=function(){var t=Object(c.a)("automationv1List"),e=t.getStateProp,n=h(t,s),r=Object(c.a)(u.a.recipient).getStateProp,o=Object(c.a)(u.a.conversion).getStateProp,a=Object(c.a)(u.a.contacts).getStateProp,i=Object(c.a)(u.a.analytics).getStateProp;return m(m({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return r("data")},getRecipientLoading:function(){return r("isLoading")},getRecipientOffset:function(){return r("offset")},getRecipientAutomationId:function(){return r("automationId")},getRecipientTotal:function(){return r("total")},getRecipientAutomation:function(){return r("automation")},getRecipientPage:function(){return parseInt(r("offset"))/parseInt(r("limit"))+1},getRecipientLimit:function(){return r("limit")},getConversionData:function(){return o("data")},getConversionLoading:function(){return o("isLoading")},getConversionOffset:function(){return o("offset")},getConversionAutomationId:function(){return o("automationId")},getConversionTotal:function(){return o("total")},getConversionAutomation:function(){return o("automation")},getConversionPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getConversionLimit:function(){return o("limit")},getCountData:function(){return e("countData")},getContactData:function(){return a("data")},getContactLoading:function(){return a("isLoading")},getContactOffset:function(){return a("offset")},getContactAutomationId:function(){return a("automationId")},getContactTotal:function(){return a("total")},getContactAutomation:function(){return a("automation")},getContactPage:function(){return parseInt(a("offset"))/parseInt(a("limit"))+1},getContactLimit:function(){return a("limit")},getContactCountData:function(){return a("contactCount")},getAnalyticsData:function(){return i("analytics")},getAnalyticsTileData:function(){return i("tiles")},getAnalyticsTableData:function(){return i("tableData")},getAnalyticsLoading:function(){return i("isLoading")},getAnalyticsType:function(){return i("type")},getAnalyticsAutomationData:function(){return i("automation")}})},y=n(143),d=n(5),g=n(16);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var O=["fetch","setStateProp"],w=["s","page","filter","path"];function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var x=function(){var t=Object(y.a)("automationv1List"),e=t.fetch,n=t.setStateProp,r=k(t,O),o=Object(y.a)(u.a.recipient),a=o.fetch,i=o.setStateProp,c=Object(y.a)(u.a.conversion),l=c.fetch,s=c.setStateProp,f=Object(y.a)(u.a.contacts),m=f.fetch,p=f.setStateProp,h=Object(y.a)(u.a.analytics),b=h.fetch,v=h.setStateProp;return E(E({},r),{},{fetch:function(t,r,o,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var c=r.s,u=(r.page,r.filter,r.path,k(r,w)),l={offset:o,limit:a,status:t,search:c,filters:u,version:i?2:1};e("GET",Object(d.m)("/automations"),l)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){a("GET",Object(d.m)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){i(t,e)},fetchConversion:function(t,e,n){s("automation",{}),l("GET",Object(d.m)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){s(t,e)},fetchContacts:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";p("automation",{}),m("GET",Object(d.m)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(r,"&search=").concat(o)))},setContactValues:function(t,e){p(t,e)},fetchAnalytics:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=0;4===parseInt(a)&&(i=1),b("GET",Object(d.m)("/analytics/emails/chart/")+"?"+Object(g.stringify)({after:e,before:n,interval:r,oid:t,type:o,mode:a,contact:i}))},setAnalyticsValues:function(t,e){v(t,e)}})},S=n(3),P=n(67),L=n(101),C=n(17),A=n(4),N=n(142),T=n(12),I=n.n(T),D=n(27),F=n(33),M=n.n(F),G=n(124),B=n.n(G),z=n(32),R=n.n(z),q=n(15),V=n(14),Y=n.n(V);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){H=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==U(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(U(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function $(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var J=function(t){return t.name},Q={name:"automation",className:"bwf-search-bwf-automation-result",options:function(t){return(e=H().mark((function t(e){var n,r,o;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M()(e)){t.next=2;break}return t.abrupt("return",[]);case 2:return n={search:e,version:1},t.next=5,I()({path:Object(d.m)("/search/automations?"+Object(g.stringify)(n)),method:"GET"});case 5:return r=t.sent,o=R()(r,"result")?r.result.map((function(t){return{key:t.id,name:t.title,label:t.title}})):[],t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})),n=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(t){$(a,r,o,i,c,"next",t)}function c(t){$(a,r,o,i,c,"throw",t)}i(void 0)}))},function(t){return n.apply(this,arguments)})(t);var e,n},isDebounced:!0,getOptionIdentifier:function(t){return t.ID},getOptionKeywords:function(t){return[t.name]},getFreeTextOptions:function(t,e){return[{key:"name",label:Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name"},Y()({mixedString:Object(a.__)("All Automation with names that include {{query /}}","wp-marketing-automations"),components:{query:Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},t)}})),value:{id:t,name:t,tags:e.map((function(t){return R()(t,"value")?t.value:t})),searchTerm:t}}]},getOptionLabel:function(t,e){var n=Object(d.i)(J(t),e)||{};return Object(r.createElement)("span",{key:"name",className:"bwf-search-result-name","aria-label":J(t)},n.suggestionBeforeMatch,Object(r.createElement)("strong",{className:"components-form-token-field__suggestion-match"},n.suggestionMatch),n.suggestionAfterMatch)},getOptionCompletion:function(t){return t}},Z=n(290);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(){K=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==W(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(W(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function X(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var tt=function(t){var e=t.query,n=t.isV2,o=void 0!==n&&n,i=e.hasOwnProperty("s")?e.s:"",c=M()(i)?[]:[{key:i,label:Object(a.__)("Search Term: ","wp-marketing-automations")+i,bwfLabelSource:"bwfcrm_contacts",isSearchTerm:!0}],u=function(){var t,n=(t=K().mark((function t(n){var r,a,i;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B()(n)){t.next=2;break}return t.abrupt("return");case 2:if(r=n.find((function(t){return R()(t,"searchTerm")})),!(Object(S.isUndefined)(r)&&n.length>0&&n[0].hasOwnProperty("key"))){t.next=6;break}return o?Object(q.k)({path:"/automation/".concat(n[0].key)},"/",e):window.location.href="admin.php?page=autonami-automations&edit="+n[0].key,t.abrupt("return");case 6:if(a=Object(S.isUndefined)(r)?void 0:r.searchTerm,i=R()(e,"s")&&!M()(e.s)?e.s:"",a!==i){t.next=10;break}return t.abrupt("return");case 10:o?Object(q.k)({s:a},"/automations",e):Object(q.k)({s:a},"/automations-v1",e);case 11:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){X(a,r,o,i,c,"next",t)}function c(t){X(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t){return n.apply(this,arguments)}}();return Object(r.createElement)(D.a,{autocompleter:o?Z.a:Q,multiple:!1,allowFreeTextSearch:!0,inlineTags:!0,selected:c,onChange:u,placeholder:Object(a.__)("Search by name","wp-marketing-automations"),showClearButton:!0,disabled:!1})},et=n(7),nt=n.n(et),rt=n(865),ot=n(272),at=n(273),it=n(50),ct=n(8),ut=n(269);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(){st=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==lt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(lt(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function ft(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function mt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ht=function(t){var e=mt(Object(r.useState)(!1),2),n=e[0],o=e[1],i=mt(Object(r.useState)(""),2),c=i[0],u=i[1],l=mt(Object(r.useState)({}),2),s=l[0],f=l[1],m=mt(Object(r.useState)(""),2),p=m[0],h=m[1],b=Object(ut.a)().setAutomationData,y=t.onCloseModal,g=t.query,v=t.isV2,O=void 0!==v&&v;Object(r.useEffect)((function(){o(!1),f({}),h("")}),[]);var w=function(){var t,e=(t=st().mark((function t(){var e;return st().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p){t.next=3;break}return u("Automation name is required field"),t.abrupt("return");case 3:return u(""),o(!0),t.prev=5,t.next=8,I()({path:Object(d.m)("/automations/create/"),method:"POST",data:{title:p,version:O}});case 8:if(!((e=t.sent)&&e.result&&e.result.automation_id)){t.next=18;break}if(!O){t.next=16;break}b("isNewAutomation",e.result.automation_id),bwfcrm_contacts_data.first_automation_id=e.result.automation_id,setTimeout((function(){return Object(q.k)({path:"/automation/"+e.result.automation_id},"/",g)}),500),t.next=18;break;case 16:return window.location.href="admin.php?page=autonami-automations&edit="+e.result.automation_id,t.abrupt("return");case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),o(!1),f({error:!0,message:t.t0.message});case 24:case"end":return t.stop()}}),t,null,[[5,20]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){ft(a,r,o,i,c,"next",t)}function c(t){ft(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return Object(r.createElement)(A.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",onRequestClose:function(){return y()}},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(a.__)("Add Automation","wp-marketing-automations")),Object(r.createElement)("span",{onClick:y,className:"bwf-modal-close"},Object(r.createElement)(ct.a,{icon:"close",color:"#353030"}))),c&&Object(r.createElement)(A.Notice,{status:"error",onRemove:function(){return u("")}},c),s&&s.error||s&&s.success?s&&s.success&&s.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(ot.a,null),Object(r.createElement)("div",{className:"bwf-h1"},s.message)):s&&s.error&&s.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(at.a,null),Object(r.createElement)("div",{className:"bwf-h1"},s.message)):Object(r.createElement)(it.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(t){"Enter"==t.key&&w()}},Object(r.createElement)(A.TextControl,{placeholder:Object(a.__)("Enter automation name","wp-marketing-automations"),autoFocus:!0,label:Object(a.__)("Name","wp-marketing-automations"),value:p,onChange:function(t){return h(t)},disabled:n}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(A.Button,{onClick:function(){return y()},className:"bwf-cancel-btn"},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(A.Button,{isPrimary:!0,disabled:n,onClick:w,isBusy:n},Object(a.__)("Add","wp-marketing-automations")))))},bt=n(103),yt=n(77),dt=n(146),gt=n(141),vt=n(271),Ot=n(222),wt=n(125);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(){Et=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==jt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(jt(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function _t(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function kt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){_t(a,r,o,i,c,"next",t)}function c(t){_t(a,r,o,i,c,"throw",t)}i(void 0)}))}}var xt=function(t){var e=t.isOpen,n=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,l=n?n.length:0,s=Object(wt.useMutation)(function(){var t=kt(Et().mark((function t(e){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I()({path:Object(d.m)("/bulk-action/automation_v1"),method:"DELETE",data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return s.reset()}),2500),o&&o()},onError:function(){i&&i()}}),f=function(){var t=kt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Automation","Delete Automations",l,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("automation","automations",l,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(N.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(a._n)("Perform Actions","Perform Actions",l,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:s.isLoading,successMessage:s.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:s.isError&&(s.error&&s.error.message?s.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})};function St(){return(St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Pt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ct=function(t){var e=t.floatingBarProps,n=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,l=t.automationId,s=Pt(Object(r.useState)([]),2),f=s[0],m=s[1],p=Pt(Object(r.useState)(!1),2),h=p[0],b=p[1],y=Pt(Object(r.useState)(""),2),d=y[0],g=y[1],v=function(){o&&o(),m([])};Object(r.useEffect)((function(){v()}),[c]);var O=Object(r.useCallback)((function(t,e){m(e),g(t),b(!0)}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ot.a,St({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:O},n)),Object(r.createElement)(xt,{tasks:f,isOpen:h,onSuccess:function(){i&&i(d,f),v()},onError:v,onRequestClose:function(){return b(!1)},screenType:c,screenTypeId:u,actionType:d,automationId:l}))},At=n(934);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(){Tt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Nt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Nt(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){Ft(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ft(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Nt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Nt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mt(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Gt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Bt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zt,Rt,qt,Vt,Yt,Ut,Ht,$t,Jt,Qt,Zt,Wt,Kt,Xt,te,ee,ne,re,oe,ae,ie,ce,ue,le,se,fe,me,pe,he,be,ye,de=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.createElement)(r.Fragment,null,"".concat(""!==t?t:"It seems there was an issue during the import",". For further help, contact "),Object(r.createElement)("a",{href:"https://funnelkit.com/support/?utm_source=WordPress&utm_medium=Automation+Import+Failed&utm_campaign=Lite+Plugin",target:"_blank",rel:"noopener noreferrer"},Object(a.__)(" support. ","wp-marketing-automations")))},ge=function(t){var e=t.onRequestClose,n=t.isV2,o=void 0!==n&&n,i=Object(q.i)(),c=Gt(Object(r.useState)({status:!1,modalTitle:Object(a.__)("Import Automation","wp-marketing-automations")}),2),u=c[0],l=c[1],s=Gt(Object(r.useState)(null),2),f=s[0],m=s[1],p=function(){var t,n=(t=Tt().mark((function t(){var n;return Tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(Dt(Dt({},u),{},{loading:!0,title:Object(a.__)("Please wait…","wp-marketing-automations"),message:Object(r.createElement)(r.Fragment,null,Object(a.__)("Your file ")+(null==f?void 0:f.name)+Object(a.__)(" importing is in progress."))})),t.prev=1,(n=new FormData).append("files",f),n.append("version",o?2:1),t.next=7,I()({method:"POST",body:n,path:Object(d.m)("/automations/import")}).then((function(t){200==t.code?t.result.hasOwnProperty("automation_id")?o?setTimeout((function(){Object(q.k)({path:"/automation/".concat(t.result.automation_id)},"/",i)}),1e3):window.location.href="admin.php?page=autonami-automations&edit="+t.result.automation_id:(Object(q.k)({path:"/automations/"},"/",i),e()):(m(null),l(Dt(Dt({},u),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:de(t.message)})))}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),m(null),l(Dt(Dt({},u),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:de(t.t0.message)}));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Mt(a,r,o,i,c,"next",t)}function c(t){Mt(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&p()}),[f]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.Modal,{className:"bwf-admin-modal bwf-admin-modal-large bwf-import-funnel-modal",title:Object(a.__)("Import Automation","wp-marketing-automations"),onRequestClose:e},u.title&&Object(r.createElement)("div",{className:"bwf-import-modal-content bwf-t-center"},u.loading?Object(r.createElement)("div",null,Object(r.createElement)(it.a,{spaceClass:"no-space"})):Object(r.createElement)(ct.a,{icon:u.status?"circle-tick":"circle-close",size:48}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},u.title),Object(r.createElement)("div",{className:"bwf-drop-import-content"},u.message)),!u.title&&Object(r.createElement)(At.a,{onFileSelected:function(t){return m(t)},filetypeArray:["application/json"]})))},ve=n(6);function Oe(){return(Oe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var we=function(t){return ve.createElement("svg",Oe({width:166,height:139,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),zt||(zt=ve.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.288 99.751c13.301-.656 27.057-1.253 39.407.396 14.214 1.898 31.561 4.641 33.579 9.35 2.065 4.817-20.179 7.415-24.385 12.101-4.582 5.103 11.567 11.667-.383 15.491-11.393 3.645-32.131 1.151-48.218.06-13.179-.894-23.004-3.715-34.857-5.693-14.297-2.386-35.486-2.466-41.67-7.079-6.138-4.581 4.583-9.768 13.58-13.881 7.4-3.383 20.187-4.884 31.8-6.867 10.035-1.713 19.805-3.318 31.147-3.878z",fill:"#ADD3E4",opacity:.3})),Rt||(Rt=ve.createElement("path",{d:"M13.017 105.034c4.122-7.56-8.892-11.114-12.03-8.115-3.137 2.998 7.264 16.853 12.03 8.115z",fill:"#E28CB5"})),qt||(qt=ve.createElement("path",{d:"M18.488 102.727c8.09 0 4.429-14.492.97-14.492-4.337 0-10.317 14.492-.97 14.492z",fill:"#E28CB5"})),Vt||(Vt=ve.createElement("path",{d:"M24.724 107.984c6.67 5.438 12.532-6.729 10.16-10.366-2.371-3.636-17.87 4.081-10.16 10.366z",fill:"#E28CB5"})),Yt||(Yt=ve.createElement("path",{d:"M16.219 111.582c-1.126-2.609-2.774-5.04-4.898-7.224-3.613-3.717-7.414-5.46-7.452-5.477a.225.225 0 00-.185.41c.037.017 3.772 1.732 7.326 5.392 2.083 2.145 3.698 4.529 4.8 7.087.124.29.24.583.353.878h.48a21.684 21.684 0 00-.424-1.066zM19.256 91.207a.224.224 0 10-.446-.053c-.015.122-1.15 9.834-1.092 21.494h.45c-.058-11.63 1.073-21.319 1.088-21.441zM32.64 99.246a.224.224 0 00-.313-.062c-.032.022-3.277 2.208-6.615 5.803-1.819 1.958-3.886 4.584-5.4 7.661h.503c1.48-2.942 3.466-5.458 5.219-7.347 3.303-3.559 6.511-5.721 6.543-5.743a.226.226 0 00.062-.312z",fill:"#CC6697"})),Ut||(Ut=ve.createElement("path",{d:"M18.169 112.648H9.887a.356.356 0 00-.338.466l.396 1.217.2.616 2.868 8.812a.58.58 0 00.552.401h10.337a.58.58 0 00.551-.401l2.868-8.812.2-.616.397-1.217a.355.355 0 00-.338-.466H18.17z",fill:"#D1E5ED"})),Ht||(Ht=ve.createElement("path",{d:"M27.522 114.331l-.2.616H10.144l-.2-.616h17.577z",fill:"#A6BFCA"})),$t||($t=ve.createElement("path",{d:"M72.472 80.123H6.358a3.372 3.372 0 01-3.368-3.377v-63.1a3.372 3.372 0 013.368-3.377h66.114a3.372 3.372 0 013.368 3.376v63.101a3.372 3.372 0 01-3.368 3.377z",fill:"#ADD3E4"})),Jt||(Jt=ve.createElement("path",{d:"M58.75 33.574h-5.266l-.92 2.985H48.46l5.846-15.978h3.612l5.89 15.978H59.68l-.93-2.985zM54.402 30.6h3.427l-1.719-5.542-1.708 5.542zM44.238 20.38h-31.37a1.012 1.012 0 01-1.01-1.014c0-.56.452-1.014 1.01-1.014h31.37c.559 0 1.011.454 1.011 1.014s-.453 1.013-1.01 1.013zM34.154 25.436H12.869a1.012 1.012 0 01-1.011-1.013c0-.56.452-1.014 1.01-1.014h21.286c.558 0 1.01.454 1.01 1.014s-.452 1.013-1.01 1.013z",fill:"#fff"})),Qt||(Qt=ve.createElement("path",{d:"M18.186 33.72H12.58a.723.723 0 010-1.448h5.606a.723.723 0 010 1.448z",fill:"#0073AA"})),Zt||(Zt=ve.createElement("path",{d:"M59.316 58.577H41.99a.723.723 0 01-.722-.724V54.93c0-.4.323-.724.722-.724h17.325c.398 0 .722.324.722.724v2.924c0 .4-.324.724-.722.724zM66.296 66.525H41.991a.723.723 0 01-.722-.724v-2.924c0-.4.323-.724.722-.724h24.305c.399 0 .722.324.722.724V65.8c0 .4-.323.724-.722.724zM22.65 71.244c0-.746.603-1.35 1.347-1.35-5.241 0-9.505-4.275-9.505-9.528 0-5.254 4.264-9.529 9.505-9.529 5.24 0 9.504 4.275 9.504 9.529 0-.746.603-1.35 1.347-1.35s1.347.604 1.347 1.35c0-6.743-5.472-12.228-12.198-12.228S11.8 53.623 11.8 60.366c0 6.742 5.472 12.227 12.198 12.227a1.348 1.348 0 01-1.347-1.35z",fill:"#fff"})),Wt||(Wt=ve.createElement("path",{d:"M34.841 59.016c-.743 0-1.347.604-1.347 1.35 0 5.254-4.263 9.528-9.504 9.528-.744 0-1.347.605-1.347 1.35 0 .746.603 1.35 1.347 1.35 6.726 0 12.198-5.486 12.198-12.228 0-.746-.603-1.35-1.347-1.35z",fill:"#0073AA"})),Kt||(Kt=ve.createElement("path",{d:"M3.047 14.269a4 4 0 014-4H71.8a4 4 0 014 4v1.088H3.047v-1.088z",fill:"#005D89"})),Xt||(Xt=ve.createElement("ellipse",{cx:9.396,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),te||(te=ve.createElement("ellipse",{cx:13.624,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),ee||(ee=ve.createElement("ellipse",{cx:17.854,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),ne||(ne=ve.createElement("path",{d:"M96.251 9.667c.462 5.607 4.529 9.122 6.916 9.122.358 0 .748-.064 1.155-.176v2.797h6.054V14.3c.056-.148.11-.31.164-.485 2.684-.257 2.572-4.7.978-4.7-.291 0-.484.275-.607.552l-.395.396V8.056s-.891.084-2.645-2.592c-.757 1.15-6.792 2.955-11.635 2.147 0 0-.013.998.015 2.056z",fill:"#FCBEB7"})),re||(re=ve.createElement("path",{d:"M103.585 0c4.176 0 5.011 2.23 5.011 2.23 1.781 0 4.509 3.262 2.867 6.886l-.009.008-.938.94V8.057s-.891.083-2.644-2.593c-.757 1.15-6.792 2.955-11.636 2.147 0 0-.012.998.016 2.056v.003C94.443 4.43 98.074 0 103.585 0z",fill:"#311643"})),oe||(oe=ve.createElement("path",{d:"M105.38 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM99.186 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM102.924 15.103c.596 0 1.002-.225 1.248-.43.31-.257.438-.539.444-.55a.153.153 0 00-.279-.127c-.017.038-.441.927-1.671.785a.154.154 0 00-.035.304c.102.012.2.018.293.018z",fill:"#311643"})),ae||(ae=ve.createElement("path",{d:"M107.597 13.972c.912 0 1.651-.741 1.651-1.655a1.652 1.652 0 10-3.303 0c0 .914.739 1.655 1.652 1.655zM96.422 10.944c.21 1.11.56 2.123 1.004 3.025a1.652 1.652 0 001.568-1.652 1.652 1.652 0 00-2.572-1.373z",fill:"#F49795"})),ie||(ie=ve.createElement("path",{d:"M96.847 9.63a2.345 2.345 0 002.34 2.345 2.345 2.345 0 002.339-2.256 1.524 1.524 0 011.516-.002 2.345 2.345 0 002.338 2.258 2.345 2.345 0 000-4.688c-1.205 0-2.2.918-2.326 2.092a1.797 1.797 0 00-1.54.001 2.345 2.345 0 00-2.327-2.093c-1.29 0-2.34 1.051-2.34 2.344zm6.5 0c0-1.123.912-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037zm-6.194 0c0-1.123.913-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037z",fill:"#fff"})),ce||(ce=ve.createElement("path",{d:"M104.322 21.41v-2.797c1.369-.377 2.928-1.3 4.099-2.18l-4.099 4.977z",fill:"#F9AFAB"})),ue||(ue=ve.createElement("path",{d:"M89.85 111.672h6.412l6.219-33.125 4.563-14.356 11.044 47.481h6.412l-5.974-53.27H94.838l-4.988 53.27z",fill:"#0073AA"})),le||(le=ve.createElement("path",{d:"M95.752 114.254v4.538c0 .53-.428.958-.957.958H81.943a.221.221 0 01-.221-.221v-.874c0-.382.218-.73.561-.896l7.247-3.505h6.222zM118.783 114.254v4.538c0 .53.429.958.957.958h12.852a.221.221 0 00.221-.221v-.874a.995.995 0 00-.561-.896l-7.247-3.505h-6.222z",fill:"#2F3D6C"})),se||(se=ve.createElement("path",{d:"M96.26 111.672l-.484 2.582h-6.248l.32-2.582h6.411zM124.499 111.672l.507 2.582h-6.222l-.697-2.582h6.412z",fill:"#FCBEB7"})),fe||(fe=ve.createElement("path",{d:"M118.654 59.545l-24.051 1.361.234-2.503h23.689",fill:"#005D89"})),me||(me=ve.createElement("path",{d:"M104.332 19.024l-9.165 3.983a3.764 3.764 0 00-1.648 1.379l-3.669 5.537 5.174 4.573 1.383-1.183-1.57 25.09h23.689l-1.452-16.36.322-8.73 1.23 1.227 5.466-4.208-2.937-4.794a7.285 7.285 0 00-3.026-2.746l-7.753-3.769s-3.517 2.311-6.044 0z",fill:"#7EB9D6"})),pe||(pe=ve.createElement("path",{d:"M102.382 19.87a7.093 7.093 0 004.586 1.665c1.786 0 3.471-.65 4.787-1.84l-.239-.116a6.849 6.849 0 01-4.548 1.71 6.852 6.852 0 01-4.334-1.529l-.252.11z",fill:"#fff"})),he||(he=ve.createElement("path",{d:"M118.42 23.575a2.038 2.038 0 002.709 1.925 7.296 7.296 0 00-2.624-2.51 2.046 2.046 0 00-.085.585zM92.972 25.206a2.038 2.038 0 002.851-2.485l-.66.286a3.765 3.765 0 00-1.647 1.378l-.544.82zM117.191 82.664a3.072 3.072 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.071 3.071 0 00-3.069 3.074 3.071 3.071 0 003.069 3.074zM96.716 82.664a3.071 3.071 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.072 3.072 0 00-3.069 3.074 3.072 3.072 0 003.07 3.074z",fill:"#005D89"})),be||(be=ve.createElement("path",{d:"M63.675 23.922l.258-.043.04-.157a.708.708 0 01.638-.532l3.605-.244 2.509-1.022-1.4-1.75a.706.706 0 01.074-.961l2.954 2.28c.29.223.53.505.707.826l.924 1.687-.005.006 13.508 9.455 2.363-3.544 5.174 4.572-6.477 5.736a1.006 1.006 0 01-1.332-.014L72.01 26.516l-2.91.277a5.071 5.071 0 01-1.95-.195l-1.545-.467a.465.465 0 01-.295-.622l-1.1-.212a.475.475 0 01-.383-.418l-.02-.178h-.066a.392.392 0 01-.066-.779zM113.259 56.488l2.409-1.077a.673.673 0 00.359-.386l.349-.963-1.217.3-.388.834a.573.573 0 01-.746.285l.507-1.533c.095-.244.278-.444.512-.559l2.544-1.253 4.389-14.255-3.353-3.34 5.466-4.21 3.196 5.571c.44.766.493 1.695.145 2.506l-8.871 20.316-1.76.082a.574.574 0 01-.52-.28l-.192-.32-.927.075a.576.576 0 01-.51-.231l-.217-.295-.13.035a.792.792 0 01-.901-.393l-.643.215a.92.92 0 01.499-1.124z",fill:"#FCBEB7"})),ye||(ye=ve.createElement("path",{d:"M125.42 37.19c0 1.005.716 1.841 1.665 2.025l.347-.808a2.808 2.808 0 00-.145-2.505l-.396-.69a2.063 2.063 0 00-1.471 1.979zM85.752 38.9l1.461 1.318c.377.34.948.346 1.332.014l1.432-1.238a2.434 2.434 0 00-4.225-.094z",fill:"#F9AFAB"})))};n(1157);function je(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ee(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _e=function(t){var e=t.onRequestClose,n=t.onAction,o=je(Object(r.useState)(!1),2),i=o[0],c=o[1],u=je(Object(r.useState)(!1),2),l=u[0],s=u[1],f=je(Object(r.useState)(!1),2),m=f[0],p=f[1],h=je(Object(r.useState)(!1),2),b=h[0],y=h[1],d=je(Object(r.useState)(!1),2),g=d[0],v=d[1];return Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-hero-svg"},Object(r.createElement)("div",null,we())),Object(r.createElement)("div",{className:"bwf-h1"},Object(a.__)("Note: You would need to manually create an equivalent Automation in Next-Gen Builder.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(a.__)("Please confirm","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(A.CheckboxControl,{checked:l,className:"bwf-export-toggler",onChange:function(t){s(t)}}),Object(a.__)("Yes, I have manually created this automation in the Automation Next-Gen Builder (new version) and no longer need this automation to work in older version.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(A.CheckboxControl,{checked:m,className:"bwf-export-toggler",onChange:function(t){p(t)}}),Object(a.__)("Yes, I understand that this automation will not trigger for new contacts after I confirm migration.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(A.CheckboxControl,{checked:b,className:"bwf-export-toggler",onChange:function(t){y(t)}}),Object(a.__)("Yes, I  understand that all the Scheduled Tasks for older contacts will still run.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(A.CheckboxControl,{checked:g,className:"bwf-export-toggler",onChange:function(t){v(t)}}),Object(a.__)("Yes, I understand that I would not be able to edit the Automation after the migration is confirmed.","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf-modal-note"},Object(r.createElement)("strong",null,Object(a.__)("Note: ","wp-marketing-automations")),Object(a.__)("If you are unsure about migration, click here to read our step-by-step guide to migrating the automation. You can also contact our support for any further questions.","wp-marketing-automations")," ",Object(r.createElement)("a",{href:"https://funnelkit.com/docs/autonami-2/automations/migrate-from-older-version/?utm_source=WordPress&utm_medium=Migrate+New+Automation&utm_campaign=Lite+Plugin",target:"_blank",className:"bwf-a-no-underline"},Object(a.__)("Learn More","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-modal-action",style:{marginBottom:0}},Object(r.createElement)(A.Button,{isSecondary:!0,onClick:e,style:{marginRight:"20px"}},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(A.Button,{isPrimary:!0,onClick:function(){l&&m&&b&&g&&(c(!0),n())},isBusy:i,disabled:i||!(l&&m&&b&&g)},Object(a.__)("Yes, I Confirm Migration","wp-marketing-automations"))))};function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(){xe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==ke(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ke(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function Se(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Pe(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Se(a,r,o,i,c,"next",t)}function c(t){Se(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Le(t){return function(t){if(Array.isArray(t))return De(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ie(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach((function(e){Ne(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ne(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==ke(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ke(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||Ie(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(t,e){if(t){if("string"==typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(t,e):void 0}}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fe=function(t){var e=Object(r.useContext)(d.d),n=t.type,o=t.query,c=o.s,u=x(),l=b(),s=u.fetch,f=u.setAutomationListValues,m=l.getAutomations,p=l.getPageNumber,h=l.getPerPageCount,y=l.getTotalCount,v=l.getOffset,O=l.getLoadingStatus,w=l.getCountData,j=Object(r.useRef)(new AbortController),E=Te(Object(r.useState)({loading:!1,status:!1}),2),_=E[0],k=E[1],T=Te(Object(r.useState)(0),2),D=T[0],F=T[1],M=Te(Object(r.useState)(0),2),G=M[0],B=M[1],z=Te(Object(r.useState)(!1),2),R=z[0],V=z[1],Y=Te(Object(r.useState)(!1),2),U=Y[0],H=Y[1],$=Te(Object(r.useState)({}),2),J=$[0],Q=$[1],Z=Te(Object(r.useState)(!1),2),W=Z[0],K=Z[1],X=Te(Object(r.useState)(!1),2),et=X[0],ot=X[1],at=m(),it=v(),ut=h(),lt=O(),st=y(),ft=p(),mt=w(),pt="all";Object(S.isEmpty)(n)||("active"===n?pt=1:"inactive"===n&&(pt=2));var wt=Object(dt.a)().getPageCountData,jt=Object(gt.a)(),Et=jt.setPageCountData,_t=jt.setPageData,kt=Object(yt.a)(Object(d.X)()).formatAmount;Object(r.useEffect)((function(){H(!1),s(pt,o,it,ut)}),[it,ut,n,c]),Object(r.useEffect)((function(){if(!lt&&!U&&!Object(S.isEmpty)(at)||et)try{var t={automation_ids:[],version:1,force:et};at.map((function(e){t.automation_ids.push(e.id)})),I()({method:"GET",path:Object(d.m)("/automations-stats?"+Object(g.stringify)(t)),signal:j.current.signal}).then((function(t){200==t.code&&(Q(t.result),H(!0),et&&(e("Data Updated"),Object(d.fb)(e,1e3),ot(!1)))})).catch((function(t){console.log(t)}))}catch(t){H(!0),ot(!1),console.log(t)}_t("automation-v1-list")}),[at,et]),Object(r.useEffect)((function(){return H(!1),Q({}),function(){j.current.abort()}}),[]);var xt=Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.Button,{isPrimary:!0,onClick:function(){return V(!0)},className:"bwf-display-flex"},Object(a.__)("Add New Automation","wp-marketing-automations"))),St=wt();Object(r.useEffect)((function(){var t={};mt.hasOwnProperty("automations")&&(t["automations-v1_automations"]=parseInt(mt.automations)),mt.hasOwnProperty("task_history")&&(t["automations-v1_task-history"]=parseInt(mt.task_history)),Et(Ae(Ae({},St),t));var e=0,n=0;mt.hasOwnProperty("status_count")&&(mt.status_count.hasOwnProperty("active")&&(n=parseInt(mt.status_count.active)),mt.status_count.hasOwnProperty("inactive")&&(e=parseInt(mt.status_count.inactive))),F(n),B(e)}),[mt]),Object(rt.a)("automations","","",!1,xt,0,!1,!1);var Pt=Object(r.useMemo)((function(){var t={};if(Array.isArray(at)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ie(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(at);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[at]),Lt=Object(Ot.b)(Pt),At=Lt.singleSelectProps,Nt=Lt.selectAllProps,Tt=Lt.floatingBarProps,It=Lt.resetSelection,Dt=[{key:"select_template",label:Object(r.createElement)(A.CheckboxControl,Nt),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"title",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(a.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"},{key:"actions",label:Object(a.__)("Actions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"tasks",label:Object(a.__)("Tasks","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-300"},{key:"total_run",label:Object(a.__)("Total Runs","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-120"},Object(d.xb)()&&{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-col-center bwf-w-120"},{key:"status",label:Object(a.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-60 bwf-col-center"}],Ft=function(t){t!==ut&&f("limit",t)},Mt=function(t){var e=[],n="";return Object(S.isEmpty)(t.automation_actions)||Object.entries(t.automation_actions).map((function(t){var r=Te(t,2),o=(r[0],r[1]);Object(S.isEmpty)(n)&&(n=o[0]),e=[].concat(Le(e),Le(o))})),Object(r.createElement)(r.Fragment,null,Object(S.isEmpty)(n)?"-":Object(r.createElement)(r.Fragment,null,!Object(S.isEmpty)(n)&&n,!Object(S.isEmpty)(e)&&e.length>1&&Object(r.createElement)(bt.a,{items:e})))},Gt=function(){var t=Pe(xe().mark((function t(n,r){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(Ae(Ae({},r),{},{status:!0})),t.prev=1,t.next=4,I()({path:Object(d.m)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));k({status:!1}),e(t.message),s(pt,o,0,ut),Object(d.fb)(e,2e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),k(Ae(Ae({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Bt=function(){var t=Pe(xe().mark((function t(n){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(a.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,I()({path:Object(d.m)("/automations/".concat(n,"/duplicate")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));e(Object(a.__)("Automation Duplicated","wp-marketing-automations")),s(pt,o,0,ut),Object(d.fb)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Duplicate Automation"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),zt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},Rt=function(){var t=Pe(xe().mark((function t(){var n,r,o,i=arguments;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(a.__)("Exporting…","wp-marketing-automations")),o="",o=parseInt(n)>0?Object(d.m)("/automations/".concat(n,"/export?version=1")):Object(d.m)("/automations/export/?version=1"),t.prev=5,t.next=8,I()({path:o,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));zt(t.result,r),e(Object(a.__)("Automation exported","wp-marketing-automations")),Object(d.fb)(e,2e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Export Automation"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),qt=function(){var t=Pe(xe().mark((function t(n,r){var o,i=arguments;return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.length>2&&void 0!==i[2]?i[2]:{},e(4===n?"Updating Automation...":n?"Activating Automation...":"Deactivating Automation..."),t.prev=2,t.next=5,I()({path:Object(d.m)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));e(4===n?Object(a.__)("Automation migrated","wp-marketing-automations"):n?Object(a.__)("Automation activated","wp-marketing-automations"):Object(a.__)("Automation deactivated","wp-marketing-automations"));var o;o=at.map((function(t){return t.id==r&&(1==n?t.status="1":4==n?t.migrated=!0:t.status="0"),t})),4==n&&k({status:!1}),f("automations",o),Object(d.fb)(e,2e3)}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(2),4==n&&k(Ae(Ae({},o),{},{error:t.t0.message})),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Automation Status Update"),error:t.t0.message})}),[1500]);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),Vt=function(t){if(t.hasOwnProperty("migrated")&&t.migrated)return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-blue"},Object(a.__)("Migrated","wp-marketing-automations"));switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Inactive","wp-marketing-automations"))}},Yt=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+t.id,className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},Ut=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(a.__)("Not Found","wp-marketing-automations"))},Ht=function(t){if(!U)return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:"Loading"});var e=J.hasOwnProperty(t.id)?J[t.id]:{};return Object(r.createElement)(C.a,{gap:2,justify:"center"},Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Active",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automations-v1/task-history/scheduled",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-scheduled",width:16,height:16})," ",e.hasOwnProperty("scheduled")?parseInt(e.scheduled):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Paused",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automations-v1/task-history/paused",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-paused",width:16,height:16})," ",e.hasOwnProperty("paused")?parseInt(e.paused):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Completed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automations-v1/task-history/completed",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-completed",width:16,height:16})," ",e.hasOwnProperty("completed")?parseInt(e.completed):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Failed",position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automations-v1/task-history/failed",automation:t.id},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-failed",width:16,height:16})," ",e.hasOwnProperty("failed")?parseInt(e.failed):0)))))},$t=Array.isArray(at)?at.map((function(t){return[{display:At.hasOwnProperty(t.id)?Object(r.createElement)(A.CheckboxControl,At[t.id]):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(P.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+e.id,className:"bwf-a-no-underline"},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"edit"})),Object(r.createElement)(C.c,null,Object(a.__)("Edit","wp-marketing-automations"))))),!(e.hasOwnProperty("migrated")&&e.migrated)&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){qt(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:1===parseInt(e.status)?"pause":"play"})),Object(r.createElement)(C.c,null,1===parseInt(e.status)?Object(a.__)("Deactivate","wp-marketing-automations"):Object(a.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Bt(e.id),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"duplicate"})),Object(r.createElement)(C.c,null,Object(a.__)("Duplicate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:"",content:Object(r.createElement)(_e,{onRequestClose:function(){return k({})},onAction:function(){return qt(4,e.id,t)}}),isDelete:!1,closeIcon:!0,modalClass:"bwf-admin-modal-medium"};k(Ae({},t)),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"migrate"})),Object(r.createElement)(C.c,null,Object(a.__)("Confirm Migration","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Rt(e.id,e.name),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"export"})),Object(r.createElement)(C.c,null,Object(a.__)("Export","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(a.__)("Delete Automation"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations"),closeIcon:!1};k(Ae(Ae({},t),{},{onConfirm:function(){return Gt(e.id,t)}})),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"trash"})),Object(r.createElement)(C.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:Yt(t),value:t.name},{display:Ut(t),value:t.event},{display:Mt(t),value:""},{display:Ht(t),value:""},{display:parseInt(t.run_count)>0?parseInt(t.run_count):"0",value:t.run_count},Object(d.xb)()&&{display:t.revenue&&parseFloat(t.revenue)>0?kt(t.revenue):"-",value:""},{display:Vt(t),value:""}];var e})):[],Jt=nt()("bwfcrm-campaign-list-table",{"has-search":!0}),Qt=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(ct.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(a.__)("Grow your business with marketing automation","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(a.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations")}},{type:"buttons",data:{buttons:[{text:Object(a.__)("Add New Automation","wp-marketing-automations"),proCheck:!1,onClick:function(){V(!0)}},{text:Object(a.__)("Import Automation","wp-marketing-automations"),isSecondary:!0,proCheck:!1,onClick:function(){return K(!0)}}]}}],Zt=Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return H(!1),void ot(!0)},disabled:!U,isBusy:!U&&et},Object(r.createElement)(ct.a,{icon:"retry",size:16}),Object(a.__)("Refresh")),Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Export","wp-marketing-automations"),onClick:function(){return Rt()}},Object(r.createElement)(ct.a,{icon:"export",size:16}),Object(a.__)("Export")),Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Import","wp-marketing-automations"),onClick:function(){return K(!0)}},Object(r.createElement)(ct.a,{icon:"import",size:16}),Object(a.__)("Import")));return Object(r.createElement)(r.Fragment,null,Object(d.D)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.ButtonGroup,{className:"bwf-btn-group-tabs"},Object(r.createElement)(A.Button,{isPrimary:!n,isSecondary:!!n,onClick:function(){return Object(q.k)({path:"/automations-v1/"},"/",o)}},Object(a.__)("All","wp-marketing-automations"),mt.hasOwnProperty("automations")&&parseInt(mt.automations)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(mt.automations)):""),Object(r.createElement)(A.Button,{isPrimary:n&&"active"===n,isSecondary:n&&"active"!==n,onClick:function(){return Object(q.k)({path:"/automations-v1/list/active"},"/",o)}},Object(a.__)("Active","wp-marketing-automations"),parseInt(D)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(D)):""),Object(r.createElement)(A.Button,{isPrimary:n&&"inactive"===n,isSecondary:n&&"inactive"!==n,onClick:function(){return Object(q.k)({path:"/automations-v1/list/inactive"},"/",o)}},Object(a.__)("Inactive","wp-marketing-automations"),parseInt(G)>0?Object(r.createElement)("span",{className:"bwf-crm-btn-group-count"},parseInt(G)):"")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)(i.a,{className:Jt,rows:$t,headers:Dt,query:{paged:ft},rowsPerPage:ut,totalRows:st,isLoading:lt,onPageChange:function(t,e){f("offset",(t-1)*ut)},onQueryChange:function(t){return"per_page"!==t?function(){}:Ft},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(tt,{key:"search",query:o,isV2:!1})],emptyMessage:Object(a.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:Zt}),Object(r.createElement)(N.a,{modalTitle:_.modalTitle,deleteEntityName:_.deleteEntityName,confirmText:_.confirmText,confirmButtonText:_.buttonConfirm,cancelButtonText:_.buttonCancel,onConfirm:_.onConfirm,isLoading:_.loading,successMessage:_.success,errorMessage:_.error,content:_.content,onRequestClose:function(){return k({status:!1})},confirmDescription:_.hasOwnProperty("confirmDescription")?_.confirmDescription:"",isOpen:_.status,isDelete:_.isDelete,closeIcon:!_.hasOwnProperty("closeIcon")||_.closeIcon,modalClass:_.modalClass}),Object(r.createElement)(Ct,{floatingBarProps:Tt,resetSelection:It,onSuccess:function(){return s(pt,o,it,ut)}})):Object(r.createElement)(vt.a,{data:Qt}),R&&Object(r.createElement)(ht,{onCloseModal:function(){return V(!1)},query:o}),W&&Object(r.createElement)(ge,{onRequestClose:function(){return K(!1)}}))},Me=n(868),Ge=n(881);function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(){ze=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Be(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Be(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function Re(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function qe(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Re(a,r,o,i,c,"next",t)}function c(t){Re(a,r,o,i,c,"throw",t)}i(void 0)}))}}var Ve=function(t){var e=t.isOpen,n=t.tasks,o=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,l=n?n.length:0,s=Object(wt.useMutation)(function(){var t=qe(ze().mark((function t(e){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I()({path:Object(d.m)("/bulk-action/automation_v2"),method:"DELETE",data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return s.reset()}),2500),o&&o()},onError:function(){i&&i()}}),f=function(){var t=qe(ze().mark((function t(){return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(a._n)("Delete Automation","Delete Automations",l,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("automation","automations",l,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(N.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(a._n)("Perform Actions","Perform Actions",l,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:s.isLoading,successMessage:s.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:s.isError&&(s.error&&s.error.message?s.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})};function Ye(){return(Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Ue(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return He(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $e=function(t){var e=t.floatingBarProps,n=void 0===e?{}:e,o=t.resetSelection,i=t.onSuccess,c=t.screenType,u=t.screenTypeId,l=t.automationId,s=Ue(Object(r.useState)([]),2),f=s[0],m=s[1],p=Ue(Object(r.useState)(!1),2),h=p[0],b=p[1],y=Ue(Object(r.useState)(""),2),d=y[0],g=y[1],v=function(){o&&o(),m([])};Object(r.useEffect)((function(){v()}),[c]);var O=Object(r.useCallback)((function(t,e){m(e),g(t),b(!0)}),[]);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Ot.a,Ye({actions:[{id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}],onAction:O},n)),Object(r.createElement)(Ve,{tasks:f,isOpen:h,onSuccess:function(){i&&i(d,f),v()},onError:v,onRequestClose:function(){return b(!1)},screenType:c,screenTypeId:u,actionType:d,automationId:l}))},Je=n(850);function Qe(t){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ze(){Ze=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new L(r||[]);return o(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",p="executing",h="completed",b={};function y(){}function d(){}function g(){}var v={};l(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(C([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=y.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Qe(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function k(e,n,r){var o=m;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===h){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=h,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,b;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Qe(e)+" is not iterable")}return d.prototype=g,o(j,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:d,configurable:!0}),d.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new _(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function We(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ke(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){We(a,r,o,i,c,"next",t)}function c(t){We(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Xe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xe(Object(n),!0).forEach((function(e){en(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function en(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==Qe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Qe(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||rn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(t,e){if(t){if("string"==typeof t)return on(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(t,e):void 0}}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var an=function(t){var e=Object(r.useContext)(d.d),n=t.type,o=t.query,c=t.automationV2,u=o.s,l=Object(Ge.a)(),s=Object(Me.a)(),f=l.fetch,m=l.setAutomationListValues,p=s.getAutomations,h=s.getPageNumber,b=s.getPerPageCount,y=s.getTotalCount,v=s.getOffset,O=s.getLoadingStatus,w=s.getCountData,j=Object(ut.a)().setAutomationData,E=nn(Object(r.useState)({loading:!1,status:!1}),2),_=E[0],k=E[1],x=nn(Object(r.useState)(!1),2),T=x[0],D=x[1],F=nn(Object(r.useState)(!1),2),M=F[0],G=F[1],B=nn(Object(r.useState)({}),2),z=B[0],R=B[1],V=nn(Object(r.useState)(!1),2),Y=V[0],U=V[1],H=p(),$=v(),J=b(),Q=O(),Z=y(),W=h(),K=w(),X="all";Object(S.isEmpty)(n)||("active"===n?X=1:"inactive"===n&&(X=2));var et=Object(r.useRef)(new AbortController),ot=Object(yt.a)(Object(d.X)()).formatAmount;Object(r.useEffect)((function(){D(!1),f(X,o,$,J,c)}),[$,J,n,u,c]),Object(r.useEffect)((function(){if(!Q&&!T&&!Object(S.isEmpty)(H)||M)try{var t={automation_ids:[],version:2,force:M};H.map((function(e){t.automation_ids.push(e.id)})),I()({method:"GET",path:Object(d.m)("/automations-stats?"+Object(g.stringify)(t)),signal:et.current.signal}).then((function(t){200==t.code&&(R(t.result),D(!0),M&&(e("Data Updated"),Object(d.fb)(e,1e3),G(!1)))})).catch((function(t){console.log(t)}))}catch(t){D(!0),G(!1),console.log(t)}}),[H,M]);var at=Object(r.createElement)(A.Button,{isPrimary:!0,onClick:function(){return Object(q.k)({path:"/automations/create"},"/",o)},className:"bwf-display-flex"},Object(a.__)("Add New Automation","wp-marketing-automations")),it=Object(dt.a)().getPageCountData,lt=Object(gt.a)().setPageCountData,st=it();Object(r.useEffect)((function(){var t=0,e=0;K.hasOwnProperty("status_count")&&(K.status_count.hasOwnProperty("active")&&(e=parseInt(K.status_count.active)),K.status_count.hasOwnProperty("inactive")&&(t=parseInt(K.status_count.inactive))),lt(tn(tn({},st),{"automations-v2_all":parseInt(t)+parseInt(e),"automations-v2_active":e,"automations-v2_inactive":t}))}),[K]),Object(r.useEffect)((function(){return function(){et.current.abort()}}),[]),Object(rt.a)(Object(S.isEmpty)(n)?"all":n,"","",!1,at,0,!1,c);var ft=Object(r.useMemo)((function(){var t={};if(Array.isArray(H)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(H);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[H]),mt=Object(Ot.b)(ft),pt=mt.singleSelectProps,ht=mt.selectAllProps,bt=mt.floatingBarProps,wt=mt.resetSelection,jt=[{key:"select_template",label:Object(r.createElement)(A.CheckboxControl,ht),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-45"},{key:"title",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(a.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-300"},{key:"contacts",label:Object(a.__)("Contacts","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-300"},Object(d.xb)()&&{key:"revenue",label:Object(a.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-col-center bwf-w-120"},{key:"status",label:Object(a.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-col-center bwf-w-60"}],Et=function(t){t!==J&&m("limit",t)},_t=function(){var t=Ke(Ze().mark((function t(n,r){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(tn(tn({},r),{},{status:!0})),t.prev=1,t.next=4,I()({path:Object(d.m)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));k({status:!1}),e(t.message),f(X,o,0,J,c),Object(d.fb)(e,2e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),k(tn(tn({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),kt=function(){var t=Ke(Ze().mark((function t(n){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(a.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,I()({path:Object(d.m)("/automations/".concat(n,"/duplicate?version=2")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));e(Object(a.__)("Automation Duplicated","wp-marketing-automations")),f(X,o,0,J,c),Object(d.fb)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Duplicate Automation"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),xt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},St=function(){var t=Ke(Ze().mark((function t(){var n,r,o,i=arguments;return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(a.__)("Exporting…","wp-marketing-automations")),o="",o=parseInt(n)>0?Object(d.m)("/automations/".concat(n,"/export?version=2")):Object(d.m)("/automations/export/?version=2"),t.prev=5,t.next=8,I()({path:o,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));xt(t.result,r),e(Object(a.__)("Automation exported","wp-marketing-automations")),Object(d.fb)(e,2e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Export Automation"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),Pt=function(){var t=Ke(Ze().mark((function t(n,r){return Ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(n?"Activating Automation...":"Deactivating Automation..."),t.prev=1,t.next=4,I()({path:Object(d.m)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(d.j)(null==t?void 0:t.message));e(n?Object(a.__)("Automation activated","wp-marketing-automations"):Object(a.__)("Automation deactivated","wp-marketing-automations"));var o;o=H.map((function(t){return t.id==r&&(t.status=n?"1":"0"),t})),m("automations",o),Object(d.fb)(e,2e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.fb)(e,1e3),setTimeout((function(){k({status:!0,modalTitle:Object(a.__)("Automation Status Update"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Lt=function(t){switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(a.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-gray"},Object(a.__)("Inactive","wp-marketing-automations"))}},Ct=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/automation/"+t.id,onClick:function(e){e.preventDefault(),j("listData",t.hasOwnProperty("name")?t.name:""),Object(q.k)({path:"/automation/".concat(t.id)},"/",o)},className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},At=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(a.__)("Not Found","wp-marketing-automations"))},Nt=function(t){if(!T||Object(S.isEmpty)(z))return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:"Loading"});var e=z.hasOwnProperty(t.id)?z[t.id]:{};return Object(r.createElement)(C.a,{gap:2,justify:"center"},Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Active",placement:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automation/".concat(t.id,"/contacts/active")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-scheduled",width:16,height:16})," ",e.hasOwnProperty("active")?parseInt(e.active):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Paused",placement:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automation/".concat(t.id,"/contacts/paused")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-paused",width:16,height:16})," ",e.hasOwnProperty("paused")?parseInt(e.paused):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Completed",placement:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automation/".concat(t.id,"/contacts/completed")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-completed",width:16,height:16})," ",e.hasOwnProperty("complete")?parseInt(e.complete):0)))),Object(r.createElement)(C.c,null,Object(r.createElement)(A.Tooltip,{text:"Failed",placement:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(q.k)({path:"/automation/".concat(t.id,"/contacts/failed")},"/",o)},style:{display:"inline-flex"}},Object(r.createElement)(ct.a,{icon:"status-failed",width:16,height:16})," ",e.hasOwnProperty("failed")?parseInt(e.failed):0)))))},Tt=Array.isArray(H)?H.map((function(t){return[{display:pt.hasOwnProperty(t.id)?Object(r.createElement)(A.CheckboxControl,pt[t.id]):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(P.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)(Je.a,{to:"wp-admin/admin.php?page=autonami&path=/automation/"+e.id,onClick:function(t){t.preventDefault(),j("listData",e.hasOwnProperty("name")?e.name:""),Object(q.k)({path:"/automation/".concat(e.id)},"/",o)},className:"bwf-a-no-underline"},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"edit"})),Object(r.createElement)(C.c,null,Object(a.__)("Edit","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Pt(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:1===parseInt(e.status)?"pause":"play"})),Object(r.createElement)(C.c,null,1===parseInt(e.status)?Object(a.__)("Deactivate","wp-marketing-automations"):Object(a.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){kt(e.id),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"duplicate"})),Object(r.createElement)(C.c,null,Object(a.__)("Duplicate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){St(e.id,e.name),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"export"})),Object(r.createElement)(C.c,null,Object(a.__)("Export","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(a.__)("Delete Automation"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations")};k(tn(tn({},t),{},{onConfirm:function(){return _t(e.id,t)}})),n()}},Object(r.createElement)(C.a,{justify:"flex-start"},Object(r.createElement)(C.c,null,Object(r.createElement)(ct.a,{icon:"trash"})),Object(r.createElement)(C.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:Ct(t),value:t.name},{display:At(t),value:t.event},{display:Nt(t),value:""},Object(d.xb)()&&{display:t.revenue&&parseFloat(t.revenue)>0?ot(t.revenue):"-",value:""},{display:Lt(t),value:""}];var e})):[],It=nt()("bwfcrm-campaign-list-table",{"has-search":!0}),Dt=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(ct.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(a.__)("Grow your business with marketing automation","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(a.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations")}},{type:"buttons",data:{buttons:[{text:Object(a.__)("Add New Automation","wp-marketing-automations"),proCheck:!1,onClick:function(){Object(q.k)({path:"/automations/create"},"/",o)}},{text:Object(a.__)("Import Automation","wp-marketing-automations"),isSecondary:!0,proCheck:!1,onClick:function(){return U(!0)}}]}}],Ft=Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return D(!1),void G(!0)},disabled:!T,isBusy:!T&&M},Object(r.createElement)(ct.a,{icon:"retry",size:16}),Object(a.__)("Refresh")),Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Export","wp-marketing-automations"),onClick:function(){return St()}},Object(r.createElement)(ct.a,{icon:"export",size:16}),Object(a.__)("Export")),Object(r.createElement)(A.Button,{isSecondary:!0,className:"bwf-btn-small bwf-btn-gray",title:Object(a.__)("Import","wp-marketing-automations"),onClick:function(){return U(!0)}},Object(r.createElement)(ct.a,{icon:"import",size:16}),Object(a.__)("Import")));return Object(r.createElement)(r.Fragment,null,Object(d.D)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(i.a,{className:It,rows:Tt,headers:jt,query:{paged:W},rowsPerPage:J,totalRows:Z,isLoading:Q,onPageChange:function(t,e){m("offset",(t-1)*J)},onQueryChange:function(t){return"per_page"!==t?function(){}:Et},rowHeader:!0,showMenu:!1,actions:[Object(r.createElement)(tt,{key:"search",query:o,isV2:!0})],emptyMessage:Object(a.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:Ft}),Object(r.createElement)(N.a,{modalTitle:_.modalTitle,deleteEntityName:_.deleteEntityName,confirmText:_.confirmText,confirmButtonText:_.buttonConfirm,cancelButtonText:_.buttonCancel,onConfirm:_.onConfirm,isLoading:_.loading,successMessage:_.success,errorMessage:_.error,content:_.content,confirmDescription:_.hasOwnProperty("confirmDescription")?_.confirmDescription:"",onRequestClose:function(){return k({status:!1})},isOpen:_.status,isDelete:_.isDelete}),Object(r.createElement)($e,{floatingBarProps:bt,resetSelection:wt,onSuccess:function(){return f(X,o,$,J,c)}})):Object(r.createElement)(vt.a,{data:Dt}),Y&&Object(r.createElement)(ge,{onRequestClose:function(){return U(!1)},isV2:!0}))},cn=n(102);function un(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.default=function(t){var e=t.match.params.type,n=un(Object(r.useState)(!1),2),a=n[0],i=n[1],c=t.automationV2,u=void 0!==c&&c,l=Object(q.i)();return Object(d.g)("Automations"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(o.a,null),Object(r.createElement)("div",{className:"bwfcrm-automations-list"},u?Object(r.createElement)(an,{query:l,type:e,automationV2:u}):Object(r.createElement)(Fe,{query:l,type:e,automationV2:u})),!Object(d.mb)()&&Object(r.createElement)(cn.a,{isOpen:a,onRequestClose:function(){return i(!1)}}))}},865:function(t,e,n){"use strict";var r=n(0),o=n(141),a=n(2),i=n(5),c=n(58),u=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={workflow:{name:Object(a.__)("Workflow","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t):"admin.php?page=autonami-automations&edit=".concat(t)}};return e&&(n.analytics={name:Object(a.__)("Analytics","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/analytics"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/analytics"),isProFeature:!0,showOnClick:!0},n.contacts={name:Object(a.__)("Contacts","wp-marketing-automations"),link:"admin.php?page=autonami&path=/automation/".concat(t,"/contacts"),isProFeature:!0,showOnClick:!0}),n.engagement={name:Object(a.__)("Engagements","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/engagements"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/engagements"),isProFeature:!0,showOnClick:!0},Object(i.xb)()&&(n.orders={name:Object(a.__)("Orders","wp-marketing-automations"),link:e?"admin.php?page=autonami&path=/automation/".concat(t,"/orders"):"admin.php?page=autonami&path=/automation-v1/".concat(t,"/orders"),isProFeature:!0,showOnClick:!0}),n};e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]&&arguments[6],m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},b=h.automation_nav,y=h.automationv2_nav,d=Object(o.a)(),g=d.setActiveMultiple,v=d.resetHeaderMenu,O=d.setL2NavType,w=d.setL2Nav,j=d.setBackLink,E=d.setL2Title,_=d.setL2Content,k=d.setBackLinkLabel,x=d.setL2NavAlign,S=d.setPageHeader;return Object(r.useEffect)((function(){v(),!i&&O("menu"),p||w(s?u(s,m):m?y:b),g({leftNav:m?"automations-v2":"automations-v1",rightNav:t}),n&&j(n),s&&j(n&&!m?"admin.php?page=autonami&path=/automations-v1":"admin.php?page=autonami&path=/automations"),i||m&&s&&k(Object(a.__)("All Automations","wp-marketing-automations-crm")),!m&&s&&k(Object(a.__)("All Automations","wp-marketing-automations")),s&&x("left"),e&&E(e),!n&&l&&_(l),S(m?"Automations":Object(r.createElement)(r.Fragment,null,"Automations",Object(r.createElement)(c.a,{label:"Legacy"}))),f&&w({})}),[t,m,p]),!0}},868:function(t,e,n){"use strict";var r=n(144),o=n(104);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=["getStateProp"];function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(r.a)("automationList"),e=t.getStateProp,n=s(t,i),a=Object(r.a)(o.a.recipient).getStateProp,c=Object(r.a)(o.a.conversion).getStateProp,l=Object(r.a)(o.a.contacts).getStateProp,f=Object(r.a)(o.a.analytics).getStateProp;return u(u({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return a("data")},getRecipientLoading:function(){return a("isLoading")},getRecipientOffset:function(){return a("offset")},getRecipientAutomationId:function(){return a("automationId")},getRecipientTotal:function(){return a("total")},getRecipientAutomation:function(){return a("automation")},getRecipientPage:function(){return parseInt(a("offset"))/parseInt(a("limit"))+1},getRecipientLimit:function(){return a("limit")},getConversionData:function(){return c("data")},getConversionLoading:function(){return c("isLoading")},getConversionOffset:function(){return c("offset")},getConversionAutomationId:function(){return c("automationId")},getConversionTotal:function(){return c("total")},getConversionAutomation:function(){return c("automation")},getConversionPage:function(){return parseInt(c("offset"))/parseInt(c("limit"))+1},getConversionLimit:function(){return c("limit")},getCountData:function(){return e("countData")},getContactData:function(){return l("data")},getContactLoading:function(){return l("isLoading")},getContactOffset:function(){return l("offset")},getContactAutomationId:function(){return l("automationId")},getContactTotal:function(){return l("total")},getContactAutomation:function(){return l("automation")},getContactPage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getContactLimit:function(){return l("limit")},getContactCountData:function(){return l("contactCount")},getAnalyticsData:function(){return f("analytics")},getAnalyticsTileData:function(){return f("tiles")},getAnalyticsTableData:function(){return f("tableData")},getAnalyticsLoading:function(){return f("isLoading")},getAnalyticsType:function(){return f("type")},getAnalyticsAutomationData:function(){return f("automation")}})}},881:function(t,e,n){"use strict";var r=n(143),o=n(5),a=n(104),i=n(16);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=["fetch","setStateProp"],l=["s","page","filter","path"];function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function m(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===c(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}e.a=function(){var t=Object(r.a)("automationList"),e=t.fetch,n=t.setStateProp,c=p(t,u),s=Object(r.a)(a.a.recipient),m=s.fetch,h=s.setStateProp,b=Object(r.a)(a.a.conversion),y=b.fetch,d=b.setStateProp,g=Object(r.a)(a.a.contacts),v=g.fetch,O=g.setStateProp,w=Object(r.a)(a.a.analytics),j=w.fetch,E=w.setStateProp;return f(f({},c),{},{fetch:function(t,r,a,i){var c=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{});var u=r.s,s=(r.page,r.filter,r.path,p(r,l)),f={offset:a,limit:i,status:t,search:u,filters:s,version:c?2:1};e("GET",Object(o.m)("/automations"),f)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){m("GET",Object(o.m)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){h(t,e)},fetchConversion:function(t,e,n){d("automation",{}),y("GET",Object(o.m)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){d(t,e)},fetchContacts:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";O("automation",{}),v("GET",Object(o.m)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(r,"&search=").concat(a)))},setContactValues:function(t,e){O(t,e)},fetchAnalytics:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,u=0;4===parseInt(c)&&(u=1),j("GET",Object(o.m)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:n,interval:r,oid:t,type:a,mode:c,contact:u}))},setAnalyticsValues:function(t,e){E(t,e)}})}},934:function(t,e,n){"use strict";var r=n(0),o=n(2),a=n(5),i=(n(470),n(4)),c=n(8);e.a=function(t){var e=t.onFileSelected,n=(t.htmlData,t.filetypeArray),u=(t.btnLabel,t.type),l=void 0===u?"automation":u,s=Object(r.useContext)(a.d),f=function(t){t&&t[0]&&"type"in t[0]?n.includes(t[0].type)?(e(t[0]),Object(a.fb)(s,3e3)):s(Object(o.__)("Uploaded file is not valid.","wp-marketing-automations")):s(Object(o.__)("Uploaded file not found","wp-marketing-automations"))};return Object(r.createElement)("div",{className:"bwf-component-import-wrapper"},Object(r.createElement)(i.DropZoneProvider,null,Object(r.createElement)("div",{className:"bwf-import-area-wrapper"},Object(r.createElement)(i.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(t){return f(t.target.files)},render:function(t){var e=t.openFileDialog;return Object(r.createElement)("div",{className:"bwf-import-area",onClick:e},Object(r.createElement)(c.a,{icon:"json-upload",size:72}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},Object(o.__)("Click or Drag & Drop your JSON file","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-drop-import-content"},"This tool allows you to import the ".concat(l," from the JSON file.")))}}),Object(r.createElement)(i.DropZone,{onFilesDrop:f,onHTMLDrop:f,onDrop:f}))))}}}]);