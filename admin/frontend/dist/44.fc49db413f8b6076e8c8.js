(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1173:function(t,e,r){},1254:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r(5),o=r(141),i=r(15),c=r(12),u=r.n(c),l=r(897),s=r(3);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(){p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:L(t,r,c)}),i}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",b="executing",y="completed",d={};function v(){}function w(){}function g(){}var O={};l(O,i,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(D([])));E&&E!==r&&n.call(E,i)&&(O=E);var P=g.prototype=v.prototype=Object.create(O);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(a,o,i,c){var u=m(t[a],t,o);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==f(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function L(e,r,n){var a=h;return function(o,i){if(a===b)throw new Error("Generator is already running");if(a===y){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=b;var l=m(e,r,n);if("normal"===l.type){if(a=n.done?y:"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=y,n.method="throw",n.arg=l.arg)}}}function _(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var o=m(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(f(e)+" is not iterable")}return w.prototype=g,a(P,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:w,configurable:!0}),w.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},S(x.prototype),l(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new x(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(P),l(P,u,"Generator"),l(P,i,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}function m(t,e,r,n,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,a)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){m(o,n,a,i,c,"next",t)}function c(t){m(o,n,a,i,c,"throw",t)}i(void 0)}))}}var b=function(t,e){var r,n,o,i,c=Object(l.a)().setTemplateData;return{sendTestEmail:(i=h(p().mark((function t(e,r,n,o,i,c){var l,s,f,m,h,b=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=b.length>6&&void 0!==b[6]&&b[6],s=b.length>7&&void 0!==b[7]?b[7]:{},f=b.length>8&&void 0!==b[8]&&b[8],m=b.length>9&&void 0!==b[9]?b[9]:{},t.prev=4,h={email:e,content:JSON.stringify({subject:r,body:n,type:o,mail_data:i,preheader:c,utmEnabled:l,utmDetails:s,overRideSenderInfo:f,overRideInfo:m})},t.next=8,u()({method:"POST",path:Object(a.m)("/send-test-email"),data:h});case 8:return t.abrupt("return",2);case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",3);case 14:case"end":return t.stop()}}),t,null,[[4,11]])}))),function(t,e,r,n,a,o){return i.apply(this,arguments)}),saveEditorContent:(o=h(p().mark((function r(n){var o,i,l;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!=n[0].editor.body){r.next=2;break}return r.abrupt("return",2);case 2:return o=e,"editor"===(i=Object(s.isEmpty)(n)?{}:n[0]).type?i.hasOwnProperty("editor")&&(i.editor.hasOwnProperty("body")&&(o.template=i.editor.body),i.editor.hasOwnProperty("design")&&(o.data.design=i.editor.design)):o.template=i.body,l={content:JSON.stringify({template:o.template,data:o.data})},r.prev=6,r.next=9,u()({method:"POST",path:Object(a.m)("/template/".concat(t,"/save-email-content")),data:l}).then((function(t){200==t.code&&c(t.result)}));case 9:return r.abrupt("return",2);case 12:return r.prev=12,r.t0=r.catch(6),r.abrupt("return",3);case 15:case"end":return r.stop()}}),r,null,[[6,12]])}))),function(t){return o.apply(this,arguments)}),uploadImage:(n=h(p().mark((function t(e){var r,n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new FormData).append("image",e),t.prev=2,t.next=5,u()({method:"POST",path:Object(a.m)("/upload-image"),body:r});case 5:return n=t.sent,t.abrupt("return",n&&n.result?n.result:"");case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return","");case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),function(t){return n.apply(this,arguments)}),fetchCurrentMailEditorContent:(r=h(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","");case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})}},y=r(161),d=r(4),v=r(144);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g=["getStateProp"];function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){E(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var S={1:"rich",2:"wc",3:"html",4:"editor"},x=function(){var t=Object(v.a)("singleTemplateData"),e=t.getStateProp;return j(j({},P(t,g)),{},{getTemplateData:function(){return e("data")},getListData:function(){return e("listData")},getFormattedTemplateData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(s.isEmpty)(t))return{};var e={body:"",editor:{body:Object(a.cb)(),design:Object(a.bb)()},preheader:"",subject:"",type:"rich",utm:{source:"Newsletter",medium:"email",name:"",content:"",term:""},utmEnabled:!1};return t.hasOwnProperty("template")&&(t.hasOwnProperty("mode")&&4===parseInt(t.mode)?e.editor.body=t.template:e.body=t.template),t.hasOwnProperty("subject")&&(e.subject=t.subject),t.hasOwnProperty("mode")&&(e.type=S[t.mode]),t.hasOwnProperty("subject")&&(e.subject=t.subject),t.hasOwnProperty("data")&&!Object(s.isEmpty)(t.data)&&(e.subject=t.subject,t.data.hasOwnProperty("preheader")&&(e.preheader=t.data.preheader),t.data.hasOwnProperty("utmEnabled")&&t.data.utmEnabled&&(e.utmEnabled=t.data.utmEnabled),t.data.hasOwnProperty("utm")&&(e.utm=t.data.utm),t.data.hasOwnProperty("design")&&4===parseInt(t.mode)&&(e.editor.design=t.data.design)),e}})},L=r(2),_=r(76);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(){k=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:S(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",m="executing",h="completed",b={};function y(){}function d(){}function v(){}var w={};l(w,i,(function(){return this}));var g=Object.getPrototypeOf,O=g&&g(g(D([])));O&&O!==r&&n.call(O,i)&&(w=O);var j=v.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==N(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function a(){return new e((function(e,a){r(t,n,e,a)}))}return o=o?o.then(a,a):a()}})}function S(e,r,n){var a=p;return function(o,i){if(a===m)throw new Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var u=x(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===p)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=m;var l=f(e,r,n);if("normal"===l.type){if(a=n.done?h:"suspendedYield",l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a=h,n.method="throw",n.arg=l.arg)}}}function x(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=f(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function D(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(N(e)+" is not iterable")}return d.prototype=v,a(j,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:d,configurable:!0}),d.displayName=l(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(P.prototype),l(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new P(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),l(j,u,"Generator"),l(j,i,(function(){return this})),l(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=D,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return c.type="throw",c.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:D(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function T(t,e,r,n,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,a)}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==N(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===N(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,l=!1;try{if(o=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var A=function(t){var e=t.templateId,r=Object(n.useContext)(a.d),i=Object(l.a)(),c=i.fetch,f=i.setTemplateData,p=i.setTemplateListData,m=x(),h=m.getLoading,v=m.getTemplateData,w=m.getFormattedTemplateData,g=(0,m.getListData)(),O={rich:1,wc:2,html:3,editor:4},j=Object(o.a)().setL2Title,E=G(Object(n.useState)({loading:!1,status:!1}),2),P=E[0],S=E[1],N=G(Object(n.useState)([]),2),D=N[0],F=N[1];Object(n.useEffect)((function(){return parseInt(e)>0&&c(e),function(){f({}),p("")}}),[]);var C=h(),A=v();Object(n.useEffect)((function(){j(A.hasOwnProperty("title")?A.title:""!=g?g:Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))}),[C,A]);var B=function(){var t,n=(t=k().mark((function t(){var n;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(M()){t.next=13;break}return S({status:!0,loading:!0}),n={content:JSON.stringify(A)},t.prev=3,t.next=6,u()({path:Object(a.m)("/template/".concat(e)),method:"POST",data:n}).then((function(t){200==t.code&&(r(t.message),Object(a.fb)(r,2e3),S({}))}));case 6:t.next=13;break;case 8:t.prev=8,t.t0=t.catch(3),r(t.t0.message),Object(a.fb)(r,2e3),S({});case 13:case"end":return t.stop()}}),t,null,[[3,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(t){T(o,n,a,i,c,"next",t)}function c(t){T(o,n,a,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}(),M=function(){var t=!1,e=[];return A.hasOwnProperty("title")&&!Object(s.isEmpty)(A.title)||(t=!0,e.push(Object(L.__)("Name is required.","wp-marketing-automations"))),A.hasOwnProperty("subject")&&!Object(s.isEmpty)(A.subject)||(t=!0,e.push(Object(L.__)("Subject is required.","wp-marketing-automations"))),A.hasOwnProperty("template")&&!Object(s.isEmpty)(A.template)||(t=!0,e.push(Object(L.__)("Email content cannot be empty.","wp-marketing-automations"))),F(e),t},J=Object(n.createElement)(n.Fragment,null,Object(n.createElement)(d.Card,{className:"bwf-template-card bwf-template-placeholder"},Object(n.createElement)("div",{className:"bwf-template-card-header bwf-h4"},"Template"),Object(n.createElement)("div",{className:"bwf-p-15"},[1,2,3].map((function(t){return Object(n.createElement)("div",{key:t,className:"bwf-placeholder-temp"})})),Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn "}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn "}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn btn-small"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn btn-small"}))),Object(n.createElement)("div",{key:4,className:"bwf-editor-placeholder"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-small"}),Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(n.createElement)("div",{className:"bwf_clear_30"}),Object(n.createElement)("div",{key:5,className:"bwf-placeholder-temp bwf-medium"}),Object(n.createElement)("div",{className:"bwf_clear_30"}))),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-h-0"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-w-90 bwf-h-30"}))),Y=b(e,A);return Object(n.createElement)("div",{className:"bwfcrm-overview-wrap bwf-crm-single-template-section"},C||Object(s.isEmpty)(A)?J:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-template-card"},Object(n.createElement)("div",{className:"bwf-template-card-header bwf-h4"},Object(L.__)("Template","wp-marketing-automations")),Object(n.createElement)(d.Card,{className:"bwf-name-card bwf-p-25"},!Object(s.isEmpty)(D)&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(_.a,null),Object(n.createElement)(d.Notice,{status:"error",isDismissible:!1,className:"bwf-mtb-10"},D.map((function(t,e){return Object(n.createElement)(n.Fragment,{key:"bwf-template-card-error-".concat(e)},t,Object(n.createElement)("br",null))})))),Object(n.createElement)(d.TextControl,{label:Object(L.__)("Name","wp-marketing-automations"),placeholder:Object(L.__)("Enter Template Name","wp-marketing-automations"),value:A.hasOwnProperty("title")?A.title:"",autoComplete:"off",onChange:function(t){f(I(I({},A),{},{title:t}))},disabled:P.loading})),Object(n.createElement)(y.a,{disableDefaultButtons:!0,initData:{content:[w(A)]},validateEmailContent:!1,apiMethods:Y,showSenderInfo:!1,showSaveTemplate:!1,showTemplateTypeSelector:!0,returnData:!0,setMailData:function(t){var e=A;(t=t[1]).hasOwnProperty("subject")&&(e.subject=t.subject),t.hasOwnProperty("preheader")&&(e.data=I(I({},e.data),{},{preheader:t.preheader})),t.hasOwnProperty("type")&&O.hasOwnProperty(t.type)&&(e.mode=O[t.type]),t.hasOwnProperty("utmEnabled")&&(e.data=I(I({},e.data),{},{utmEnabled:t.utmEnabled})),t.hasOwnProperty("utm")&&(e.data=I(I({},e.data),{},{utm:t.utm})),"editor"===t.type?t.hasOwnProperty("editor")&&(t.editor.hasOwnProperty("body")&&(e.template=t.editor.body),t.editor.hasOwnProperty("design")&&(e.data.design=t.editor.design)):e.template=t.body,f(I(I({},A),e))},showTab:!1,disabled:P.loading,showTemplateButton:!1})),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-crm-stepper-navigation bwf_text_right"},Object(n.createElement)(d.Button,{isPrimary:!0,className:"bwf-crm-navigation-next",isBusy:P.loading,disabled:P.loading,onClick:function(){B()}},Object(L.__)("Save","wp-marketing-automations")))))},B=r(936);r(1173),e.default=function(t){var e=t.match.params.id,r=Object(i.i)(),c=Object(o.a)(),u=c.setBackLink,l=c.setBackLinkLabel,s=c.setL2Nav;return Object(B.a)(Object(L.__)("Templates","wp-marketing-automations")),Object(n.useEffect)((function(){Object(a.g)("Template #"+e),s(""),u(Object(i.f)({},"/templates",r)),l("All Templates")})),Object(n.createElement)(n.Fragment,null,Object(n.createElement)(_.a,null),Object(n.createElement)(A,{templateId:e,query:r}))}},897:function(t,e,r){"use strict";var n=r(143),a=r(5);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=["fetch","setStateProp"];function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){if(null==t)return{};var r,n,a=function(t,e){if(null==t)return{};var r,n,a={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(a[r]=t[r]);return a}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}e.a=function(){var t=Object(n.a)("singleTemplateData"),e=t.fetch,r=t.setStateProp;return u(u({},s(t,i)),{},{fetch:function(t){e("GET",Object(a.m)("/template/".concat(t)))},setTemplateData:function(t){r("data",t)},setTemplateListData:function(t){r("listData",t)}})}},936:function(t,e,r){"use strict";var n=r(141),a=r(0);e.a=function(){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},o=Object(n.a)(),i=o.setActiveMultiple,c=o.setL2NavType,u=o.setL2Nav,l=o.resetHeaderMenu,s=o.setPageHeader,f=o.setPageCountData,p=o.setL2Content;return Object(a.useEffect)((function(){l(),i({leftNav:"templates",rightNav:"templates"}),c("menu"),u(r.templates_nav),s("Templates"),f({templates:e}),t&&p(t)}),[e]),!0}}}]);